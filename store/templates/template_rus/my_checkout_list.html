{% load static %}
<!DOCTYPE html>
<!-- saved from url=(0196)https://demo-idea.myinsales.ru/?_ga=2.23619514.1229686566.1677956565-1212046676.1677956565&_gl=1*l5e2xo*_ga*MTIxMjA0NjY3Ni4xNjc3OTU2NTY1*_ga_185QYQKX7V*MTY3Nzk1NjU2NS4xLjAuMTY3Nzk1NjU2NS42MC4wLjA. -->
<html style="--color-btn-bg:#7188D4; --color-btn-bg-is-dark:true; --bg:#FFFFFF; --bg-is-dark:false; --color-text: var(--color-text-dark); --color-text-minor-shade: var(--color-text-dark-minor-shade); --color-text-major-shade: var(--color-text-dark-major-shade); --color-text-half-shade: var(--color-text-dark-half-shade); --color-notice-warning-is-dark:false; --color-notice-success-is-dark:false; --color-notice-error-is-dark:false; --color-notice-info-is-dark:false; --color-form-controls-bg:var(--bg); --color-form-controls-bg-disabled:var(--bg-minor-shade); --color-form-controls-border-color:var(--bg-half-shade); --color-form-controls-color:var(--color-text); --is-editor:false; --vh:568px; --fixed-panels-bottom-offset:0px;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta data-config="{&quot;money_with_currency_format&quot;:{&quot;delimiter&quot;:&quot; &quot;,&quot;separator&quot;:&quot;.&quot;,&quot;format&quot;:&quot;%n %u&quot;,&quot;unit&quot;:&quot;₽&quot;,&quot;show_price_without_cents&quot;:1},&quot;currency_code&quot;:&quot;RUR&quot;,&quot;default_currency&quot;:{&quot;title&quot;:&quot;Российский рубль&quot;,&quot;code&quot;:&quot;RUR&quot;,&quot;rate&quot;:1.0,&quot;format_string&quot;:&quot;%n %u&quot;,&quot;unit&quot;:&quot;₽&quot;,&quot;price_separator&quot;:&quot;&quot;,&quot;is_default&quot;:true,&quot;price_delimiter&quot;:&quot;&quot;,&quot;show_price_with_delimiter&quot;:true,&quot;show_price_without_cents&quot;:true},&quot;facebook&quot;:{&quot;pixelActive&quot;:false,&quot;currency_code&quot;:&quot;RUB&quot;,&quot;use_variants&quot;:null},&quot;vk&quot;:{&quot;pixel_active&quot;:null,&quot;price_list_id&quot;:null},&quot;new_ya_metrika&quot;:false,&quot;ecommerce_data_container&quot;:&quot;dataLayer&quot;,&quot;common_js_version&quot;:null,&quot;vue_ui_version&quot;:null,&quot;feedback_captcha_enabled&quot;:&quot;1&quot;,&quot;account_id&quot;:1215183,&quot;hide_items_out_of_stock&quot;:false,&quot;forbid_order_over_existing&quot;:false,&quot;minimum_items_price&quot;:null,&quot;enable_comparison&quot;:true,&quot;locale&quot;:&quot;ru&quot;,&quot;client_group&quot;:null,&quot;consent_to_personal_data&quot;:{&quot;active&quot;:false,&quot;obligatory&quot;:true,&quot;description&quot;:&quot;Настоящим подтверждаю, что я ознакомлен и согласен с условиями \u003ca href=&#39;/page/oferta&#39; target=&#39;blank&#39;\u003eоферты и политики конфиденциальности\u003c/a\u003e.&quot;},&quot;recaptcha_key&quot;:&quot;6Lc0T0YUAAAAAAVNiH-_bnSC4E-YHMFTeYOqZyRx&quot;,&quot;checkout_float_order_content_block&quot;:false,&quot;sber_id_app_id&quot;:&quot;5b5a3c11-72e5-4871-8649-4cdbab3ba9a4&quot;,&quot;theme_generation&quot;:4,&quot;quick_checkout_captcha_enabled&quot;:false,&quot;max_order_lines_count&quot;:500}" name="shop-config" content=""><meta name="js-evnvironment" content="production"><meta name="default-locale" content="ru"><meta name="insales-redefined-api-methods" content="[]">
        <!--InsalesCounter -->
        <script type="text/javascript" async="" src="{% static 'js/insales_counter.js' %}"></script>
        <!-- /InsalesCounter -->

    <!-- meta -->

<title>Заказы пользователей
</title><meta name="description" content="boutiquebroderie">
<meta data-config="{&quot;static-versioned&quot;: &quot;1.38&quot;}" name="theme-meta-data" content="">
<meta name="robots" content="index,follow">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">


<!-- canonical url-->

<!-- rss feed-->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://boutiquebroderie.com">
    <meta property="og:title" content="boutiquebroderie">


    
    
    


<style type="text/css">
    .icon-cart:before {
    content: "\E80D";
}
</style>


<!-- icons-->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/icons.css">
<link rel="icon" type="image/png" sizes="16x16" href="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/32275806.ico"><style media="screen">
  @supports (content-visibility: hidden) {
    body:not(.settings_loaded) {
      content-visibility: hidden;
    }
  }
  @supports not (content-visibility: hidden) {
    body:not(.settings_loaded) {
      visibility: hidden;
    }
  }
  .widget-type_system_widget_v4_cart_2 .item-counter .check-input {
    text-align: center;
    border-radius: 0;
    width: 2rem;
    font-size: 1rem;
    outline: none;
    box-shadow: none;
    height: 28px;
    background: var(--bg-major-shade);
    border: 2px solid var(--bg-major-shade);
    margin-left: -2px;
    margin-right: -2px;
    color: var(--color-text);
}
.switch {
  position: relative;
  display: inline-block;
  width: 56px;
  height: 30px;
}

/* Hide default HTML checkbox */
.switch input {display:none;}

/* The slider */
.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  -webkit-transition: .4s;
  transition: .4s;
}

.slider:before {
  position: absolute;
  content: "";
  height: 22px;
  width: 22px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  -webkit-transition: .4s;
  transition: .4s;
}

input:checked + .slider {
  background-color: #2196F3;
}

input:focus + .slider {
  box-shadow: 0 0 1px #2196F3;
}

input:checked + .slider:before {
  -webkit-transform: translateX(24px);
  -ms-transform: translateX(24px);
  transform: translateX(24px);
}

/* Rounded sliders */
.slider.round {
  border-radius: 34px;
}

.slider.round:before {
  border-radius: 50%;
}
.widget-type_system_widget_v4_cart_2 .item-delete{
  grid-template-columns: 1fr 1fr 1fr !important;
}

.widget-type_system_widget_v4_cart_2 .cart {
    display: grid;
    grid-template-areas:
        "items controls"
        "items controls"
        "items controls";
    grid-gap: 2rem 0 !important;
    grid-auto-columns: 6fr 1fr !important;
    grid-auto-rows: max-content auto;
}
.item-link{
    grid-area: total;
    font-size: 1rem;
    line-height: 1.8rem;
    justify-self: end;
    font-weight: 500;margin-top: 30px;
    white-space: nowrap;
    position: absolute;
}
.widget-type_system_widget_v4_cart_2 .cart-item {
    --item-image-size: 0px !important;
   
}
@media screen and (max-width: 550px){
.widget-type_system_widget_v4_cart_2 .cart-item {
    --item-image-size: 80px;
    grid-template-areas:
        "image title"
        "image total"
        "image counter"
        "image delete";
    grid-auto-columns: var(--item-image-size) min-content auto min-content !important;
}}


</style>

  </head>
  <body data-multi-lang="false" data-theme-template="index" data-sidebar-type="sticky" data-sidebar-position="left" class="settings_loaded">
    <div class="preloader">
      <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>
    </div>
    <noscript>
<div class="njs-alert-overlay">
  <div class="njs-alert-wrapper">
    <div class="njs-alert">
      <p></p>
    </div>
  </div>
</div>

</noscript>
<div class="page_layout page_layout-clear  ">
   <header>
      
        <div class="layout widget-type_system_widget_v4_header_1" style="--logo-img:&#39;https://static.insales-cdn.com/files/1/7649/24960481/original/Frame.png&#39;; --logo-max-width:160px; --hide-menu-photo:false; --hide-search:false; --hide-language:false; --hide-compare:true; --hide-personal:false; --hide-favorite:false; --hide-total-price:false; --bage-bg:#7188D4; --bage-bg-is-dark:true; --bage-bg-minor-shade:#8095d9; --bage-bg-minor-shade-is-dark:true; --bage-bg-major-shade:#8ea0dd; --bage-bg-major-shade-is-dark:true; --bage-bg-half-shade:#b8c4ea; --bage-bg-half-shade-is-light:true; --bg-top-panel:#E5EBFF; --bg-top-panel-is-light:true; --bg-top-panel-minor-shade:#e5ebff; --bg-top-panel-minor-shade-is-light:true; --bg-top-panel-major-shade:#e4eaff; --bg-top-panel-major-shade-is-light:true; --bg-top-panel-half-shade:#d9e2ff; --bg-top-panel-half-shade-is-light:true; --menu-grid-list-min-width:220px; --menu-grid-list-row-gap:3rem; --menu-grid-list-column-gap:3rem; --subcollections-items-limit:10; --menu-img-ratio:1; --live-search:true; --header-wide-bg:true; --header-top-pt:0.5vw; --header-top-pb:0.5vw; --header-main-pt:1vw; --header-main-pb:2vw; --header-wide-content:false; --hide-desktop:false; --hide-mobile:false;">
{% include 'layouts/header.html' %}

      <style type="text/css">
        @media(max-width: 767px){
  main{
    margin-top: 43px !important;
  }
}

      </style>
      </header>


      




<!--main-->
 <main>
        
  <div class="layout widget-type_widget_v4_back_to_catalog_32f538a0a042f577b5301462c18b395a" style="--layout-wide-bg:true; --layout-pt:1vw; --layout-pb:1vw; --layout-wide-content:false; --layout-edge:false; --hide-desktop:false; --hide-mobile:false;">
  <div class="layout__content">
    

<a href="{% url 'accounts:my_account' %}" class="button back_to_catalog"><span class="icon icon-arrow-left"></span><span>Вернуться к админ панельи</span></a>

  </div>
</div>


  <div class="layout widget-type_system_widget_v4_cart_2" style="--border-radius:8px; --img-fit:contain; --img-ratio:1; --layout-wide-bg:true; --layout-pt:1vw; --layout-pb:1vw; --layout-wide-content:false; --layout-edge:false; --hide-desktop:false; --hide-mobile:false;">
  <div class="layout__content">
    
<h1 class="heading">Заказы</h1>
<div class="search_box" style="padding-bottom: 30px;">
  <input type="text" autocomplete="off" class="form-control form-control_size-l header__search-field search_my_products_field" name="q" value="" placeholder="Поиск" data-search-field="" inprocess="false" style="width: 100%;height: 100%;border: 1px solid black; ">

  <select id="Countryes" style="height: 40px;
    width: 100px;
    margin-top: 10px;
    position: absolute;
    ">
    {% for country in zone_countries %}
    <option value="{{country.country}}">{{country.country}}</option>
     {% endfor %}
  </select>
  <div href="#" class="button button_size-m button_filter_products" style="margin-top: 10px;margin-left: 120px;">Поиск</div>

</div>


<div action="#cart_items" class="cart with-coupon" method="post" data-cart-form="" data-reload-on-coupon="false" data-cart-form-inited="true">
  <div class="cart__area-items">
    <div class="cart-item_main"></div>
    
   
    
  {% block content %}
  {% endblock %}
   
    
  </div>
  

  <div class="layout widget-type_system_widget_v4_special_products_10" style="--product-desc-limit:10; --hide-description:true; --count-special-products:6; --slide-width:200px; --slide-gap:30; --img-ratio:1; --img-fit:cover; --switch-img-on-hover:false; --border-radius:8px; --rounding-button:true; --product-info-accent:price; --product-info-align:left; --sticker-font-size:0.7rem; --slide-width-mobile:120px; --slide-gap-mobile:15; --hide-mobile-modal-variants:false; --layout-wide-bg:false; --layout-pt:3vw; --layout-pb:3vw; --layout-wide-content:false; --layout-edge:false; --hide-desktop:false; --hide-mobile:false;">
  <div class="layout__content">
    


<div class="special-products js-special-products">
  
  
      
      
      
         
      
      </div>
    </div>
  </div>
</div>








  </div>
</div>



      </main>

<link href="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/cart.css" rel="stylesheet" type="text/css">
 
      

    {% include 'layouts/footer.html' %}


      
    
    </div>
    
    <div data-fixed-panels="bottom">
      
       

      
    </div>

   



  <script src="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/my-layout.js"></script>
  <link href="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/core-css.css" rel="stylesheet" type="text/css">
  
  <script src="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/jquery.waypoints.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/infinite.min.js"></script>
<script type="text/javascript">
  var infinite = new Waypoint.Infinite({
      element: $('.infinite-container')[0],
      onBeforePageLoad: function () {
        $('.loading').show();
      },
      onAfterPageLoad: function ($items) {
        $('.loading').hide();
      }
    });
  </script>

  <script src="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/jquery.cut-list.js"></script>
  <link href="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/jquery.cut-list.css" rel="stylesheet" type="text/css">
  <script src="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/microAlert.js"></script>
  <link href="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/microAlert.css" rel="stylesheet" type="text/css"><script src="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/bodyScrollLock.min.js"></script>
  <link href="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/main.css" rel="stylesheet" type="text/css">
<script type="text/javascript">

  var products_checked = []
  var count_products_checked = 0

  $(".check-input").on("change", function(){
    var pk = $(this).attr("pk")
    
    if ($(this).is(":checked")){
      products_checked.push(pk)
      count_products_checked++;


    }
    else{
      var index = products_checked.indexOf(pk)
      products_checked.splice(index,1)
      count_products_checked--;

    }
    console.log(products_checked)
    $(".count_products_checked").text(count_products_checked)
  })
  $(document).on("click",".checkbox_turn_onoff", function(){
    var pk = $(this).attr("pk")
   
    const response = confirm("Вы действительно хотите отправить заказ?");


if (response == true){
    var data  = new FormData()
    

   
    data.append("pk", pk)
    var _this  = $(".send_on"+String(pk))

     $.ajax({


              
            url: '/api/product_is_send/',
            method: "POST",
            data: data,
            success: function(data){
              _this.remove()
             $(".cart-item_order"+String(pk)+" .status_viewer p").css("color","#1dbb1d")
                $(".cart-item_order"+String(pk)+" .status_viewer p").text("Отправлено")

               
                  
                

            },
            error: function(daa){},
            processData: false,
            contentType: false,
        })
    }
  })
  function call_delete_product(data){

 $.ajax({


              
            url: '/api/product_delete/',
            method: "POST",
            data: data,
            success: function(data){
              if (products_checked.length>0){
                products_checked.forEach(element => $("#cart-item"+String(element)).remove());
                $(".count_products_checked").text("0")

              }
              else{
$("#cart-item"+String(pk)).remove()
              }
              
                

               
                  
                

            },
            error: function(daa){},
            processData: false,
            contentType: false,
        })
  }
    $(".js-item-delete").on("click", function(){
    var pk = $(this).attr("data-item_delete")
    
    
    var data  = new FormData()
    data.append("pk", pk)
    call_delete_product(data)
    
   
  })
  
  $(document).on("click",".js-item-assembled", function(){
         const response = confirm("Вы уверены?");


if (response == true){
    var pk = $(this).attr("pk")
    var item_pk = $(this).attr("item_pk")
    var data = new FormData()
    var _this = $(".assembled_on"+String(item_pk))

    data.append("pk", pk)
      $.ajax({


              
            url: '/api/assembled/',
            method: "POST",
            data: data,
            success: function(response){
              
              _this.remove()
              $(".cart-item_order"+String(item_pk)+" .status_viewer p").text(" Заказ собран")
              $(".cart-item_order"+String(item_pk)+" .status_viewer p").css("color","#ffd226")

              
              




            },
            error: function(data){},
            processData: false,
            contentType: false,
        })
}

  })
  $(".button_delete_group").on("click", function(){
    if (count_products_checked>0){
      var data = new FormData()
      for(var i=0;i<products_checked.length;i++){
        data.append("product_pk"+String(i),products_checked[i])

      }
      
      data.append("lens", products_checked.length)
      data.append("group", true)
      
      call_delete_product(data)

    }

  })

  var template_checkouts=`  <div class="infinite-item">


 
     <div class="cart-item cart-item_order<delivery_pk> " id="cart-item25" data-product-id="336490978" data-item-id="573211243">
      
      <a href="/order_detalis/<checkout_order_id>" class="item-title" style="">
      order_id:<checkout_order_id>
        <checkout_order_status>
      
      </a>
      <div class="item-price">
        <span class="price" data-cart-item-price=""> <price_checkout>&nbsp;֏</span>
      </div>
     <div class="item-counter status_viewer" id="cart_counter<checkout_pk>">
  


<checkout_status>


       
       
      </div>
      <div class="item-total" data-cart-item-total-price=""><price_checkout>&nbsp;֏</div>
       
      
      <div class="item-delete">
        
         
       

<a href="/orders_view/<checkout_order_id>">
         <button class="button js-item-change" type="button">Посмотреть <checkout_name></button></a>

         <checkout_buttons>



        
        
      </div>
    </div>
</div>
    `;
function checkout_templates(response){

                   
                   $(".infinite-item").remove()
                  $(".grid-list.catalog-list").html("")
                  console.log(response)
                  $.each(response, function(icount, element) {
                    temlate_product = template_checkouts.replaceAll("<delivery_pk>", element["delivery_check"]["id"])

                    temlate_product = temlate_product.replaceAll("<checkout_order_id>", element["order_id"])
                    temlate_product = temlate_product.replaceAll("<checkout_pk>", element["id"])

                    
                    
                   
                     
                  
                     temlate_product = temlate_product.replaceAll("<price_checkout>", parseFloat(element["price"]).toFixed(2))
                     
                     
                     console.log(element["order_id"])
                     if(element["status"]=="joint"){
                       temlate_product = temlate_product.replaceAll("<checkout_order_status>", "Совместная доставка")

                     }
                     else if (element["status"]=="collectionpay"){
                      temlate_product = temlate_product.replaceAll("<checkout_order_status>", "Дозаказ")

                     }
                    
                     
         








                     if (element["status"]=="joint"){
                      
                      temlate_product = temlate_product.replaceAll("<checkout_buttons>", ` <a href="/change_delivery_price/`+ element["id"] +`">
         <button class="button js-item-change" type="button" data-item_change="{{ checkout.product.pk }}">Изменить цену доставки</button></a>`)

                     }

                     else{
                      if (element["assembled"]=="assembled"){

                      }
                      else{
                        temlate_product = temlate_product.replaceAll("<checkout_buttons>", ` <button class="button js-item-assembled assembled_on`+element["delivery_check"]["id"]+`>" type="button" pk="`+element["id"]+`" item_pk = "`+ element["delivery_check"]["id"] +`">Заказ собран</button>`)

                      }

                      if (element["delivery_check"]['pay_status']=="delyverypay"){
                        if(element["status"]=="send" || element["status"]=="collectionsend" ){
                          temlate_product = temlate_product.replaceAll("<checkout_buttons>", `  <a href="/order_detalis/`+ element["order_id"] +`">
         <button class="button js-item-change" type="button" >Посмотреть чек</button></a>`)
                          

                        }
                        else{
                           temlate_product = temlate_product.replaceAll("<checkout_buttons>", `   <button class="button js-item checkbox_turn_onoff send_on`+ element["delivery_check"]["id"] +`" type="button" pk="`+ element["delivery_check"]["id"] +`">Отправить</button>`)
                          
                        }
                        

                      }
                      
                      

                     }
                    


                      if (element["status"]=="collectionpay"){
                      
                      temlate_product = temlate_product.replaceAll("<checkout_name>", `дозаказ`)

                     }
                     
if (element["status"]=="send" || element["status"]=="collectionsend"){
  temlate_product = temlate_product.replaceAll("<checkout_status>", `<p style="font-weight: bold;color: #1dbb1d;">Отправлено</p>`)
  


}
else{
  if (element["delivery_check"]["pay_status"]=="dontpay"){
    if (element["assembled"]== "assembled"){
      temlate_product = temlate_product.replaceAll("<checkout_status>", `<p style="font-weight: bold;color: #ffd226;">Заказ собран</p>`)

    }
    else{
      temlate_product = temlate_product.replaceAll("<checkout_status>", `<p style="font-weight: bold; color: red;">Новый заказ</p>`)

    }

  }
  else{
    if (element["status"]== "collectionpay"){
      if (element["assembled"]== "assembled"){
      temlate_product = temlate_product.replaceAll("<checkout_status>", `<p style="font-weight: bold;color: #ffd226;">Заказ собран</p>`)

    }

   


    }
    else{
      temlate_product = temlate_product.replaceAll("<checkout_status>", `<p style="font-weight: bold;color: #ffd226;">Ожидает отправки</p>`)
       
    }

  }

}




                    

                     

                    
                    
                   
                    $(".cart__area-items .infinite-container").append(temlate_product)
  });   


}

var but_count=0
  $(".button_filter_products").on("click", function(){
    var search_name = $(".search_my_products_field").val()
    
    var data  = new FormData()
    data.append("search_text", search_name)
   
    $.ajax({


              
            url: '/api/search_my_checkout/',
            method: "POST",
            data: data,
            success: function(response){
              infinite.destroy();
              if (but_count==0){
                var triggerElement = $('.infinite-container')[0];
            triggerElement.removeEventListener('scroll', infinite.scrollHandler);
            triggerElement.removeEventListener('resize', infinite.scrollHandler);
             
              }
              but_count++;
               checkout_templates(response)


            
                

                    
                  
                
             
               
                  
                

            },
            error: function(data){},
            processData: false,
            contentType: false,
        })


  })


  $("#Countryes").on("change", function(){
    var country = $(this).val()
    var data = new FormData()
    data.append("country", country)  
    $.ajax({


              
            url: '/api/search_my_checkout_with_country/',
            method: "POST",
            data: data,
            success: function(response){
               checkout_templates(response)


              },
            error: function(data){},
            processData: false,
            contentType: false,
        })
                
  })
</script>
<script>
  try {
  let widget = '.widget-type_system_widget_v4_header_1';
  let $widget = $('.widget-type_system_widget_v4_header_1');
  /* eslint-disable linebreak-style */
$(function() {
  function getWidget(item) {
    return item.closest('.layout');
  }

  var mobilePoint = 768;
  $(document).ready(function() {
   

    if ($(window).width() >= mobilePoint) {
      $(widget).find(".js-cut-list").cutList({
        moreBtnTitle: '<span class="icon-ellipsis-h"></span>',
        alwaysVisibleElem: '.is-current'
      });
    }

    $(window).on('load', function() {
      $(widget).find(".js-cut-list").resize();
    });

    $(window).on('resize', function() {
      let collections_menu = $(widget).find(".header__collections");
      let collections_menu_content = collections_menu.find(".header__collections-content");

      if (collections_menu.is(".is-show")) {
        let max_height = $(window).height() - collections_menu.offset().top - 20;
        collections_menu_content.css("maxHeight", max_height);
      }
    });

    if ($(widget).find(".header__collections .is-current").length) {
      $(widget).find(".header__collections .is-current").addClass("is-show-mobile");
      $(widget).find(".header__collections > .header__collections-item.is-current").addClass("is-show");
    }

    $(widget).find(".js-show-header-collections").on("click", function() {
      let thisWidget = getWidget($(this));

      thisWidget.each(function(index, el) {
        let lazyLoadCollectionList = new LazyLoad({
          container: $(el).get(0),
          elements_selector: '.lazyload'
        });

        try {
          lazyLoadCollectionList.loadAll()
        } catch (e) {
          console.log(e)
        }
      });

      let collections_menu = thisWidget.find(".header__collections");
      let collections_menu_content = collections_menu.find(".header__collections-content");

      if (collections_menu.is(".is-show")) {
        collections_menu.removeClass("is-show");
      } else {
        collections_menu.addClass("is-show");

        let max_height = $(window).height() - collections_menu.offset().top - 20;
        collections_menu_content.css("maxHeight", max_height);
      }

      $(this).toggleClass("is-active");
      thisWidget.find(".header__collections-overlay").toggleClass("is-show");
    });

    $(document).on("click", function(event) {
      let thisWidget = getWidget($(event.target).closest('.layout'));

      if ($(event.target).closest(".js-show-header-collections").length || $(event.target).closest(".header__collections-content").length) {
        return;
      }

      thisWidget.find(".header__collections.is-show").removeClass("is-show");
      thisWidget.find(".header__collections-overlay.is-show").removeClass("is-show");
      thisWidget.find(".js-show-header-collections").removeClass("is-active");
    });

    $(widget).find(".js-show-mobile-submenu").on("click", function() {
      $(this).parents(".header__collections-item:first").toggleClass("is-show-mobile");
    });

    $(widget).find(".js-show-mobile-menu").on("click", function() {
      let thisWidget = getWidget($(event.target).closest('.layout'));

      thisWidget.find(".header").addClass("is-show-mobile");
    });

    $(widget).find(".js-hide-mobile-menu").on("click", function() {
      let thisWidget = getWidget($(event.target).closest('.layout'));

      thisWidget.find(".header").removeClass("is-show-mobile");
    });

    $(widget).find(".js-show-mobile-search").on("click", function() {
      $(this).parents(".header__search").toggleClass("is-show-mobile").find(".header__search-field").focus();
    });

    $(widget).find(".js-show-more-subcollections").on("click", function() {
      let thisWidget = getWidget($(this));

      let collections_menu = thisWidget.find(".header__collections-menu");
      let limit = collections_menu.attr("data-subcollections-items-limit");
      let collection_elem = $(this).parents(".header__collections-item.is-level-1");

      if ($(this).is(".is-active")) {
        $(this).removeClass("is-active");
        collection_elem.find('.header__collections-submenu .header__collections-item:nth-child(n+' + (parseInt(limit) + 1) + ')').addClass("is-hide");
      } else {
        $(this).addClass("is-active");
        collection_elem.find(".header__collections-submenu .header__collections-item").removeClass("is-hide");
      }
    });
  });

 

  function configureSubcollectionsItemsLimit(limit) {
    let collections_menu = $(widget).find(".header__collections-menu");
    collections_menu.attr("data-subcollections-items-limit", limit);

    $(widget).find(".header__collections-submenu").each(function() {
      let collection_elem = $(this).parents(".header__collections-item.is-level-1");
      let collection_elem_more_controls = collection_elem.find(".header__collections-show-more");

      $(this).find(".header__collections-item").removeClass("is-hide");
      $(this).find('.header__collections-item:nth-child(n+' + (parseInt(limit) + 1) + ')').addClass("is-hide");
      collection_elem_more_controls.find(".js-show-more-subcollections").removeClass("is-active");

      if ($(this).find(".header__collections-item").length > parseInt(limit)) {
        collection_elem_more_controls.addClass("is-show");
      } else {
        collection_elem_more_controls.removeClass("is-show");
      }
    });
  }
});

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_header_1" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_alerts';
  let $widget = $('.widget-type_system_widget_v4_alerts');
  let alertsSettings = $widget.find('[data-micro-alerts-settings]').data('micro-alerts-settings');

function replaceAlertCheckIcon(message) {
  let iconCheck = '<span class="icon-check" style="margin-right:5px;"></span>';
  if (message.indexOf('✓') != -1 ) {
    return message.replace(/✓/gi, iconCheck);
  } else {
    return `${iconCheck} ${message}`;
  }
}

function replaceAlertWarningIcon(message) {
  let iconWarning = '<span class="icon-exclamation-triangle" style="margin-right:5px;"></span>';
  if (message.indexOf('⚠') != -1 ) {
    return message.replace(/⚠/gi, iconWarning);
  } else {
    return `${iconWarning} ${message}`;
  }
}



if (window.location.pathname == '/' && Cookies.get('lite_preorder')) {
  let success_feedback = alertsSettings['success_preorder'];

  microAlert(replaceAlertCheckIcon(success_feedback), 5000, {
    modificator: 'success-notice'
  });
  Cookies.remove('lite_preorder');
}

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_alerts" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_callback_modal_1';
  let $widget = $('.widget-type_system_widget_v4_callback_modal_1');
  $(document).ready(function() {
  $(widget).find(".js-hide-modal").on("click", function() {
    $(widget).removeClass("is-show-fullscreen");
  });

  $(widget).on("click", function(event) {
    if ($(event.target).closest(widget + ' .layout__content').length) {
      return;
    }

    $(widget).removeClass("is-show-fullscreen");
  });
});




$(window).on("scroll", function() {
  clearTimeout(scroll_timeout);
  scroll_timeout = setTimeout( function() {
    showButtonOnTop($widget.find(".js-go-top-page"));
  }, 50);
});

function showButtonOnTop(btn) {
  if ($(window).scrollTop() >= $(window).height()) {
    btn.addClass("is-show");
  } else {
    btn.removeClass("is-show");
  }
}



let scroll_timeout;

$(window).on("scroll", function() {
  clearTimeout(scroll_timeout);
  scroll_timeout = setTimeout( function() {
    showCartFixedBtn($widget.find(".js-cart-fixed-btn"));
  }, 50);
});

function showCartFixedBtn(btn) {
  if ($(window).scrollTop() >= 100) {
    btn.addClass("is-show");
  } else {
    btn.removeClass("is-show");
  }
}

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_cart_fixed_button_1" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_bottom_navigation_bar_1';
  let $widget = $('.widget-type_system_widget_v4_bottom_navigation_bar_1');
  $(function() {
  let location_path = window.location.pathname;

  if (location_path.indexOf('client_account') !== -1) {
    $widget.find(".navigation-bar__item-profile").addClass("is-active is-cur-page");
  }

  $widget.find("[data-show-navigation-bar-panel]").on("click", function() {
    let navigation_bar_item = $(this);
    let panel_name = navigation_bar_item.data("showNavigationBarPanel");
    let panel = $widget.find('[data-navigation-bar-panel="' + panel_name + '"]');

    if (panel.is(".is-show")) {
      bodyScrollLock.clearAllBodyScrollLocks();
      panel.removeClass("is-show");
      $('header').css('display', 'block');

      navigation_bar_item.removeClass("is-active");
      $widget.find(".navigation-bar__item.is-cur-page").addClass("is-active");
    } else {
      let targetElement = panel.get(0);
      if (targetElement) {
        bodyScrollLock.disableBodyScroll(targetElement);
      }

      $('header').css('display', 'none');

      let panel_bottom_pos = navigation_bar_item.parents(".layout").innerHeight();
      $widget.find('[data-navigation-bar-panel].is-show').removeClass("is-show");
      panel.css("bottom", panel_bottom_pos).addClass("is-show");

      if (panel_name == "search") {
        setTimeout(function() {
          panel.find("[data-search-field]").focus();
        }, 500);
      }

      $widget.find(".navigation-bar__item.is-active").removeClass("is-active");
      navigation_bar_item.addClass("is-active");
    }
  });

  $widget.find(".navigation-bar__item-home").on("click", function() {
    if (location_path == "/") {
      $widget.find('.navigation-bar-panel.is-show').removeClass("is-show");
      $widget.find(".navigation-bar__item.is-active").removeClass("is-active");
      $widget.find(".navigation-bar__item.is-cur-page").addClass("is-active");
    }
  });

  $widget.find(".js-hide-navigation-bar-panel").on("click", function() {
    $widget.find('[data-navigation-bar-panel].is-show').removeClass("is-show");
    $widget.find(".navigation-bar__item.is-active").removeClass("is-active");
    $widget.find(".navigation-bar__item.is-cur-page").addClass("is-active");
    bodyScrollLock.clearAllBodyScrollLocks();
    $('header').css('display', 'block');
  });

  $widget.find(".collections__menu .is-current").addClass("is-show");
  $widget.find(".js-show-submenu").on("click", function() {
    let cur_item = $(this).parents(".collections__item:first");
    cur_item.toggleClass("is-show");
  });

  $widget.find(".js-show-collections-search").on("click", function() {
    let search_block = $(this).parents(".collections-search");
    search_block.toggleClass("is-show");

    if (search_block.is(".is-show")) {
      setTimeout(function() {
        search_block.find(".collections-search__field").focus();
      }, 50);
    }
  });
});

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_bottom_navigation_bar_1" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_benefits_4';
  let $widget = $('.widget-type_system_widget_v4_benefits_4');
  $(function() {
  $widget.each(function(index, el) {
    new LazyLoad({
      container: $(el).get(0),
      elements_selector: '.lazyload'
    });

    fixBlocks(el)
  });

  let resizeTimer;
  $(window).on('resize', function(e) {

    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(function() {
      $widget.each(function(index, el) {
        fixBlocks(el)
      });

    }, 550);

  });

 


  function fixBlocks(el) {
    let initialSize = getComputedStyle($(el)[0]).getPropertyValue('--grid-list-min-width').replace('px', '');
    let columnSize = getComputedStyle($(el)[0]).getPropertyValue('--grid-list-column-gap').replace('rem', '');
    let $benefitList = $(el).find('.grid-list');
    let containerSize = $benefitList.width()
    let blocksLength = $benefitList.data('block-length')

    $benefitList.css('--grid-list-min-width', adaptiveSize(containerSize, +initialSize, blocksLength, columnSize * 16) + 'px')
  }

  function adaptiveSize(containerSize, blockSize, blocksLength, columnSize) {
    let currentLine = Math.floor(containerSize / (blockSize + columnSize));
    let delta = blocksLength % currentLine;
    let addBlocks = 0;

    if (delta > 0) {
      addBlocks = currentLine - delta;
    }

    return addBlocks == 0 || currentLine > blocksLength ? containerSize / currentLine - columnSize : blockSize * (currentLine / addBlocks);
  }
});

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_benefits_4" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_collections_on_index_2';
  let $widget = $('.widget-type_system_widget_v4_collections_on_index_2');
  /* eslint-disable linebreak-style */
$(function() {
  var isTouch = !!('ontouchstart' in window || navigator.msMaxTouchPoints);
  var mobile_point = 767;

  if (isTouch) {
    $(widget).find(".collection-preview").addClass("is-touch");
  }

  $widget.each(function(index, el) {
    new LazyLoad({
      container: $(el).get(0),
      elements_selector: '.lazyload',
      use_native: 'loading' in document.createElement('img')
    });
  });

  $(function() {
    let specialCollections = $widget.find(".js-collections");

    if ($(window).width() < mobile_point) {
      let slider_mobile_right_padding;
      let slide_width_mobile;
      let slide_gap_mobile = specialCollections.find(".js-collections-slider").attr("data-slide-gap-mobile") / 2;

      $(window).on("resize", function() {
        slide_width_mobile = specialCollections.find(".splide__slide").width();
        slider_mobile_right_padding = slide_width_mobile * 0.5 + slide_gap_mobile;
        specialCollections.find(".js-collections-slider").attr("data-mobile-right-padding", slider_mobile_right_padding);
      });
    }

    specialCollections.each(function() {
      let collections_block = $(this);
      let slider_block = collections_block.find(".js-collections-slider");
      let slide_min_width = 160;
      let slide_min_width_mobile = 130;
      let slide_gap = 30;
      let slide_gap_mobile = 15;
      let slider_mobile_right_padding;

      if (slider_block.is("[data-slide-min-width]")) {
        slide_min_width = parseInt(slider_block.attr("data-slide-min-width"));
      } else {
        slider_block.attr("data-slide-min-width", slide_min_width);
      }

      if (slider_block.is("[data-slide-min-width-mobile]")) {
        slide_min_width_mobile = parseInt(slider_block.attr("data-slide-min-width-mobile"));
      } else {
        slider_block.attr("data-slide-min-width-mobile", slide_min_width_mobile);
      }

      if (slider_block.is("[data-slide-gap]")) {
        slide_gap = parseInt(slider_block.attr("data-slide-gap"));
      } else {
        slider_block.attr("data-slide-gap", slide_gap);
      }

      if (slider_block.is("[data-slide-gap-mobile]")) {
        slide_gap_mobile = parseInt(slider_block.attr("data-slide-gap-mobile"));
      } else {
        slider_block.attr("data-slide-gap-mobile", slide_gap_mobile);
      }

      if (slider_block.is("[data-mobile-right-padding]")) {
        slider_mobile_right_padding = parseInt(slider_block.attr("data-mobile-right-padding"));
      } else {
        slider_block.attr("data-mobile-right-padding", slider_mobile_right_padding);
      }

      let init_slide_min_width = isMobileWidth() ? slide_min_width_mobile : slide_min_width;
      let init_slide_gap = isMobileWidth() ? slide_gap_mobile : slide_gap;

      let mobile_left_padding = 5;
      let mobile_right_padding = `${slider_mobile_right_padding + init_slide_gap}px`;

      slider_block[0].splide = new Splide(slider_block[0], {
        perPage: getSlidesPerView(slider_block, init_slide_min_width, init_slide_gap),
        gap: init_slide_gap,
        perMove: 1,
        breakpoints: {
          768: {
            padding: {
              left: mobile_left_padding,
              right: mobile_right_padding
            }
          }
        }
      });

      let tempWindowWidth = $(window).width()
      $(window).on("resize", function() {
        if (tempWindowWidth == $(window).width()) {
          return false
        }
        tempWindowWidth = $(window).width()
        let slide_min_width = parseInt(slider_block.attr("data-slide-min-width"));
        let slide_min_width_mobile = parseInt(slider_block.attr("data-slide-min-width-mobile"));
        let slide_gap = parseInt(slider_block.attr("data-slide-gap"));
        let slide_gap_mobile = parseInt(slider_block.attr("data-slide-gap-mobile"));
        let slider_mobile_right_padding = parseInt(slider_block.attr("data-mobile-right-padding"));

        let init_slide_min_width = isMobileWidth() ? slide_min_width_mobile : slide_min_width;
        let init_slide_gap = isMobileWidth() ? slide_gap_mobile : slide_gap;

        if (isMobileWidth()) {
          slide_gap_mobile = slide_gap_mobile / 2;

          slider_block[0].splide.options = {
            gap: slide_gap_mobile,
            perPage: getSlidesPerView(slider_block, init_slide_min_width, init_slide_gap),
            padding: {
              left: 0,
              right: slider_mobile_right_padding
            }
          };
        } else {
          slider_block[0].splide.options = {
            gap: init_slide_gap,
            perPage: getSlidesPerView(slider_block, init_slide_min_width, init_slide_gap)
          };
        }

        configureDragOption(slider_block);
      });

      slider_block[0].splide.on('arrows:updated', function() {
        let collections = slider_block.parents(".js-collections");
        let prev_btn = collections.find(".collections__slider-arrow-prev");
        let next_btn = collections.find(".collections__slider-arrow-next");

        if (collections.find(".splide__arrow--prev").prop("disabled") === true) {
          prev_btn.addClass("is-disabled");
        } else {
          prev_btn.removeClass("is-disabled");
        }

        if (collections.find(".splide__arrow--next").prop("disabled") === true) {
          next_btn.addClass("is-disabled");
        } else {
          next_btn.removeClass("is-disabled");
        }
      });

      slider_block[0].splide.on('mounted updated', function() {
        displaySliderControls(slider_block);
      });

      slider_block[0].splide.on('mounted', function() {
        configureDragOption(slider_block);
      });

      slider_block[0].splide.mount();

      $widget.find(".js-move-slide").on("click", function() {
        let slider_node = $(this).parents(".js-collections").find(".js-collections-slider");

        if (slider_node.length) {
          let sliderInst = slider_node[0].splide;

          if ($(this).is(".collections__slider-arrow-prev")) {
            sliderInst.go('-');
          }

          if ($(this).is(".collections__slider-arrow-next")) {
            sliderInst.go('+');
          }
        }
      });
    });
  });

 

  function updateSpecialCollectionSlider(slider, data) {
    let sliderInst = slider[0].splide;

    let slide_min_width = parseInt(slider.attr("data-slide-min-width"));
    let slide_min_width_mobile = parseInt(slider.attr("data-slide-min-width-mobile"));
    let slide_gap = parseInt(slider.attr("data-slide-gap"));
    let slide_gap_mobile = parseInt(slider.attr("data-slide-gap-mobile"));
    let slider_mobile_right_padding = parseInt(slider.attr("data-mobile-right-padding"));

    if (data.setting_name == 'slide-width') {
      let new_slide_min_width = parseInt(data.value);
      slider.attr("data-slide-min-width", new_slide_min_width);

      if (!isMobileWidth()) {
        let new_per_page = getSlidesPerView(slider, new_slide_min_width, slide_gap);
        sliderInst.options = {
          perPage: new_per_page
        };
      }
    } else if (data.setting_name == 'slide-width-mobile') {
      let new_slide_min_width_mobile = parseInt(data.value);
      slider.attr("data-slide-min-width-mobile", new_slide_min_width_mobile);

      if (isMobileWidth()) {
        let new_per_page = getSlidesPerView(slider, new_slide_min_width_mobile, slide_gap_mobile);
        sliderInst.options = {
          perPage: new_per_page
        };
      }
    } else if (data.setting_name == 'slide-gap') {
      let new_slide_gap = parseInt(data.value);
      let new_per_page = getSlidesPerView(slider, slide_min_width, new_slide_gap);
      slider.attr("data-slide-gap", new_slide_gap);

      if (!isMobileWidth()) {
        sliderInst.options = {
          gap: new_slide_gap,
          perPage: new_per_page,
        };
      }
    } else if (data.setting_name == 'slide-gap-mobile') {
      let new_slide_gap_mobile = parseInt(data.value);
      let new_per_page = getSlidesPerView(slider, slide_min_width_mobile, new_slide_gap_mobile);
      slider.attr("data-slide-gap-mobile", new_slide_gap_mobile);

      if (isMobileWidth()) {
        let mobile_left_padding = slider.parents(".layout").css("--layout-side-padding");
        let mobile_right_padding = `${slider_mobile_right_padding + new_slide_gap_mobile}px`;

        sliderInst.options = {
          gap: new_slide_gap_mobile,
          perPage: new_per_page,
          padding: {
            left: mobile_left_padding,
            right: mobile_right_padding
          }
        };
      }
    } else {
      setTimeout(function() {
        let init_slide_min_width = isMobileWidth() ? slide_min_width_mobile : slide_min_width;
        let init_slide_gap = isMobileWidth() ? slide_gap_mobile : slide_gap;

        let new_per_page = getSlidesPerView(slider, init_slide_min_width, init_slide_gap);
        sliderInst.options = {
          perPage: new_per_page
        };
      }, 0);
    }

    configureDragOption(slider);
  }

  function getSlidesPerView(sliderBlock, slideMinWidth, slideGap) {
    let right_padding = 0;

    if (sliderBlock.is("[data-mobile-right-padding]") && isMobileWidth()) {
      right_padding = parseInt(sliderBlock.data("mobileRightPadding")) + slideGap;
    }

    return Math.floor((sliderBlock.width() + slideGap - right_padding) / (slideMinWidth + slideGap));
  }

  function displaySliderControls(slider) {
    let sliderInst = slider[0].splide;
    let collections = slider.parents(".js-collections");
    let slider_arrow = collections.find(".collections__slider-arrow");

    if (sliderInst.length <= sliderInst.options.perPage) {
      slider_arrow.addClass("is-hide");
      slider.addClass("is-hide-paging");
    } else {
      slider_arrow.removeClass("is-hide");
      slider.removeClass("is-hide-paging");
    }
  }

  function configureDragOption(slider) {
    if (slider[0].splide.length <= slider[0].splide.options.perPage) {
      slider[0].splide.options = {
        drag: false
      };
    } else {
      slider[0].splide.options = {
        drag: true
      };
    }
  }

  function isMobileWidth() {
    return $(window).width() <= mobile_point;
  }
});

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_collections_on_index_2" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_video_clip';
  let $widget = $('.widget-type_system_widget_v4_video_clip');
  /* eslint-disable linebreak-style */
$widget.each(function(index, el) {
  new LazyLoad({
    container: $(el).get(0),
    elements_selector: '.lazyload'
  });
});

function getWidget(item) {
  return item.closest('.layout');
}

$(function() {
  let previewImg = $widget.find(".banner-list__item-image .picture");
  let iframeVideo = $widget.find(".banner-list__item-image iframe");

  $widget.find(".banner-preview__play-btn").on("click", function(event) {
    let thisWidget = getWidget($(this));
    let slider_node = thisWidget.find(".picture");
    let slider_btn = thisWidget.find(".banner-preview__play-btn");
    slider_node.addClass("hidden");
    slider_btn.addClass("hidden");
    event.preventDefault();
    if (thisWidget.find(".banner-list__item-image .picture").hasClass("hidden")) {
      thisWidget.find(".banner-list__item-image iframe").show();
    }
  });
  iframeVideo.hide();
  $(previewImg).on('load', function() {
    iframeVideo.show();
  });
});
} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_video_clip" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_banner_list_23';
  let $widget = $('.widget-type_system_widget_v4_banner_list_23');
  $(function() {
  $widget.each(function(index, el) {
    new LazyLoad({
      container: $(el).get(0),
      elements_selector: '.lazyload'
    });
  });
});

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_banner_list_23" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_banner_list_27';
  let $widget = $('.widget-type_system_widget_v4_banner_list_27');
  $(function() {
  var mobile_point = 767;
  var bannerBlockList = $(widget).find(".banner-list");

  $widget.each(function(index, el) {
    new LazyLoad({
      container: $(el).get(0),
      elements_selector: '.lazyload'
    });
  });

  bannerBlockList.each(function() {
    let slider_block = $(this).find(".js-banner-list-slider");
    initBannerListSlider(slider_block);
  });

  function initBannerListSlider(sliderBlock) {
    let slide_min_width = 250;
    let slide_min_width_mobile = 160;
    let slide_gap = 30;

    if (sliderBlock.is("[data-slide-min-width]")) {
      slide_min_width = parseInt(sliderBlock.data("slideMinWidth"));
    } else {
      sliderBlock.data("slideMinWidth", slide_min_width);
    }

    if (sliderBlock.is("[data-slide-min-width-mobile]")) {
      slide_min_width_mobile = parseInt(sliderBlock.data("slideMinWidthMobile"));
    } else {
      sliderBlock.data("slideMinWidthMobile", slide_min_width_mobile);
    }

    if (sliderBlock.is("[data-slide-gap]")) {
      slide_gap = parseInt(sliderBlock.data("slideGap"));
    } else {
      sliderBlock.data("slideGap", slide_gap);
    }

    sliderBlock[0].splide = new Splide(sliderBlock[0], {
      perPage: getSlidesPerView(sliderBlock, isMobileWidth() ? slide_min_width_mobile : slide_min_width, slide_gap),
      gap: slide_gap,
      perMove: 1
    });

    $(window).on("resize", function() {
      let slide_min_width = parseInt(sliderBlock[0].dataset.slideMinWidth);
      let slide_gap = parseInt(sliderBlock[0].dataset.slideGap);
      let slide_min_width_mobile = parseInt(sliderBlock[0].dataset.slideMinWidthMobile);

      sliderBlock[0].splide.options = {perPage: getSlidesPerView(sliderBlock, isMobileWidth() ? slide_min_width_mobile : slide_min_width, slide_gap)};
      configureDragOption(sliderBlock);
    });

    sliderBlock[0].splide.on( 'arrows:updated', function() {
      let banner_list = sliderBlock.parents(".banner-list");
      let prev_btn = banner_list.find(".banner-list__arrow-prev");
      let next_btn = banner_list.find(".banner-list__arrow-next");

      if (banner_list.find(".splide__arrow--prev").prop("disabled") === true) {
        prev_btn.addClass("is-disabled");
      } else {
        prev_btn.removeClass("is-disabled");
      }

      if (banner_list.find(".splide__arrow--next").prop("disabled") === true) {
        next_btn.addClass("is-disabled");
      } else {
        next_btn.removeClass("is-disabled");
      }
    });

    sliderBlock[0].splide.on( 'mounted updated', function() {
      displaySliderControls(sliderBlock);
    });

    sliderBlock[0].splide.on( 'mounted', function() {
      configureDragOption(sliderBlock);
    });

    sliderBlock[0].splide.mount();

    sliderBlock.parents(".banner-list").find(".js-move-slide").on("click", function() {
      let slider_node = $(this).parents(".banner-list").find(".js-banner-list-slider");

      if (slider_node.length) {
        let sliderInst = slider_node[0].splide;

        if ($(this).is(".banner-list__arrow-prev")) {
          sliderInst.go( '-' );
        }

        if ($(this).is(".banner-list__arrow-next")) {
          sliderInst.go( '+' );
        }
      }
    });
  }

  function updateBannerListSlider(slider, data) {
    let sliderInst = slider[0].splide;

    let slide_min_width = parseInt(slider.data("slideMinWidth"));
    let slide_gap = parseInt(slider.data("slideGap"));
    let slide_min_width_mobile = parseInt(slider.data("slideMinWidthMobile"));

    if (data.setting_name == 'slide-width') {
      let new_slide_min_width = parseInt(data.value);
      let new_per_page = getSlidesPerView(slider, new_slide_min_width, slide_gap);
      slider.attr("data-slide-min-width", new_slide_min_width);

      sliderInst.options = { perPage: new_per_page };

      if (!isMobileWidth()) {
        let new_per_page = getSlidesPerView(slider, new_slide_min_width, slide_gap);
        sliderInst.options = { perPage: new_per_page };
      }
    } else if (data.setting_name == 'slide-width-mobile') {
      let new_slide_min_width_mobile = parseInt(data.value);
      slider.attr("data-slide-min-width-mobile", new_slide_min_width_mobile);

      if (isMobileWidth()) {
        let new_per_page = getSlidesPerView(slider, new_slide_min_width_mobile, slide_gap);
        sliderInst.options = { perPage: new_per_page };
      }


    } else if (data.setting_name == 'slide-gap') {
      let new_slide_gap = parseInt(data.value);
      let new_per_page = getSlidesPerView(slider, slide_min_width, new_slide_gap);
      slider.attr("data-slide-gap", new_slide_gap);

      sliderInst.options = { gap: new_slide_gap, perPage: new_per_page };
    } else {
      setTimeout(function() {
        let new_per_page = getSlidesPerView(slider, isMobileWidth() ? slide_min_width_mobile : slide_min_width, slide_gap);
        sliderInst.options = { perPage: new_per_page };
      }, 0);
    }

    configureDragOption(slider);
  }

  function getSlidesPerView(sliderBlock, slideMinWidth, slideGap) {
    return Math.floor((sliderBlock.width() + slideGap) / (slideMinWidth + slideGap));
  }

  

  function displaySliderControls(slider) {
    let sliderInst = slider[0].splide;
    let slider_arrows = slider.parents(".banner-list").find(".banner-list__arrow");

    if (sliderInst.length <= sliderInst.options.perPage) {
      slider_arrows.addClass("is-hide");
      slider.addClass("is-hide-paging");
    } else {
      slider_arrows.removeClass("is-hide");
      slider.removeClass("is-hide-paging");
    }
  }

  function configureDragOption(slider) {
    if (slider[0].splide.length <= slider[0].splide.options.perPage) {
      slider[0].splide.options = { drag: false };
    } else {
      slider[0].splide.options = { drag: true };
    }
  }
  function isMobileWidth() {
    return $(window).width() <= mobile_point;
  }
});

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_banner_list_27" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_footer_19';
  let $widget = $('.widget-type_system_widget_v4_footer_19');
  $(function() {
  $(widget).find(".js-show-mobile-submenu").on("click", function() {
    $(this).parents(".menu-item:first").toggleClass("is-show-mobile");
  });
});

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_footer_19" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_promo_slider_18';
  let $widget = $('.widget-type_system_widget_v4_promo_slider_18');
  $(function() {
  let initPromoSlider = function(slider) {
    let is_autoplay = slider.data("autoplay");
    let autoplay_delay = slider.data("autoplayDelay");

    slider[0].splide = new Splide(slider[0], {
      rewind: true,
      autoplay: !!is_autoplay,
      interval: autoplay_delay ? parseInt(autoplay_delay) * 1000 : 5000
    });

    slider[0].splide.on( 'mounted updated', function() {
      displaySliderControls(slider);
    });

    slider[0].splide.mount();
  }

  let updatePromoSlider = function(slider, data) {
    let sliderInst = slider[0].splide;

    if (data.setting_name == 'autoplay') {
      slider.data("autoplay", data.value);

      sliderInst.destroy();
      initPromoSlider(slider);
    } else if (data.setting_name == 'autoplay-delay') {
      slider.data("autoplayDelay", data.value);

      sliderInst.destroy();
      initPromoSlider(slider);
    } else {
      setTimeout(function() { sliderInst.refresh() }, 0);
    }
  }

  let displaySliderControls = function(slider) {
    let sliderInst = slider[0].splide;

    if (sliderInst.length <= sliderInst.options.perPage) {
      slider.addClass("is-hide-controls");
    } else {
      slider.removeClass("is-hide-controls");
    }
  }

  $(function() {
    $widget.each(function(index, el) {
      new LazyLoad({
        container: $(el).get(0),
        elements_selector: '.lazyload'
      });
    });

    $widget.find(".js-promo-slider").each(function() {
      initPromoSlider($(this));
    });
  });


});

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_promo_slider_18" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_special_products_20';
  let $widget = $('.widget-type_system_widget_v4_special_products_20');
  $(function() {
  var mobile_point = 767;

  $widget.each(function(index, el) {
    new LazyLoad({
      container: $(el).get(0),
      elements_selector: '.lazyload',
      use_native: 'loading' in document.createElement('img')
    });
  });
});

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_special_products_20" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_sidebar_social_1';
  let $widget = $('.widget-type_system_widget_v4_sidebar_social_1');
  $(function() {
  $widget.each(function(index, el) {
    new LazyLoad({
      container: $(el).get(0),
      elements_selector: '.lazyload'
    });
  });
});

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_sidebar_social_1" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_widget_v4_special_products_tabs_4_a3cabb735dc2d527c18cf4e9fa66a72f';
  let $widget = $('.widget-type_widget_v4_special_products_tabs_4_a3cabb735dc2d527c18cf4e9fa66a72f');
  $(function() {
  $widget.each(function(index, el) {
    new LazyLoad({
      container: $(el).get(0),
      elements_selector: '.lazyload'
    });
  });

  $(function() {
    function isMobileWidth() {
      return $(window).width() <= 767;
    }

    function grid_list_columns_mobile() {
      $('[data-tabs-item]').each(function() {
        let list = $(this).data('tabs-item')
        let data_blocks_size = Math.ceil($(this).parents('.tabs:first').find(`#${list} .grid-list`).attr('data-blocks-size'));

        if (isMobileWidth()) {
          $widget.find('.grid-list').css({
            gridTemplateColumns: `repeat(${data_blocks_size}, minmax(calc(var(--grid-list-min-width) - 30px), 1fr))`
          });
        } else {
          $widget.find('.grid-list').css({
            gridTemplateColumns: 'repeat(auto-fill, minmax(min(var(--grid-list-min-width), 100%), 1fr))'
          });
        }
      });
    }

    grid_list_columns_mobile();
    window.addEventListener('resize', grid_list_columns_mobile);
    window.addEventListener('orientationchange', grid_list_columns_mobile);

    $widget.find("[data-tabs-item]").on("click", function() {
      const tabs = $(this).closest(".tabs");
      const tab_item_id = $(this).data("tabsItem");
      const open_tab = tabs.find('#' + tab_item_id);

      if (open_tab.length) {
        tabs.find(".tabs__item.is-active, .tabs__head-item.is-active").removeClass("is-active");
        tabs.find('#' + tab_item_id).addClass("is-active");
        $(this).addClass("is-active");
      }
    });
  });
});

} catch(error) {
  console.error('Widget "widget-type_widget_v4_special_products_tabs_4_a3cabb735dc2d527c18cf4e9fa66a72f" throwed an error: "' + error.stack + '"')
}

</script>


  



<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/style.css" media="all" onload="this.media=&#39;all&#39;">










<link href="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/theme.css" rel="stylesheet" type="text/css" onload="document.body.classList.add(&#39;settings_loaded&#39;);">


  <script src="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/theme.js" charset="utf-8"></script>
  

</body></html>