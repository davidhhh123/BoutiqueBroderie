{% load static %}
{% load all_go %}
{% load mathfilters %}
  {% load rate %}
<!DOCTYPE html>
<!-- saved from url=(0196)https://demo-idea.myinsales.ru/?_ga=2.23619514.1229686566.1677956565-1212046676.1677956565&_gl=1*l5e2xo*_ga*MTIxMjA0NjY3Ni4xNjc3OTU2NTY1*_ga_185QYQKX7V*MTY3Nzk1NjU2NS4xLjAuMTY3Nzk1NjU2NS42MC4wLjA. -->
<html style="--color-btn-bg:#7188D4; --color-btn-bg-is-dark:true; --bg:#FFFFFF; --bg-is-dark:false; --color-text: var(--color-text-dark); --color-text-minor-shade: var(--color-text-dark-minor-shade); --color-text-major-shade: var(--color-text-dark-major-shade); --color-text-half-shade: var(--color-text-dark-half-shade); --color-notice-warning-is-dark:false; --color-notice-success-is-dark:false; --color-notice-error-is-dark:false; --color-notice-info-is-dark:false; --color-form-controls-bg:var(--bg); --color-form-controls-bg-disabled:var(--bg-minor-shade); --color-form-controls-border-color:var(--bg-half-shade); --color-form-controls-color:var(--color-text); --is-editor:false; --vh:568px; --fixed-panels-bottom-offset:0px;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta data-config="{&quot;money_with_currency_format&quot;:{&quot;delimiter&quot;:&quot; &quot;,&quot;separator&quot;:&quot;.&quot;,&quot;format&quot;:&quot;%n %u&quot;,&quot;unit&quot;:&quot;₽&quot;,&quot;show_price_without_cents&quot;:1},&quot;currency_code&quot;:&quot;RUR&quot;,&quot;default_currency&quot;:{&quot;title&quot;:&quot;Российский рубль&quot;,&quot;code&quot;:&quot;RUR&quot;,&quot;rate&quot;:1.0,&quot;format_string&quot;:&quot;%n %u&quot;,&quot;unit&quot;:&quot;₽&quot;,&quot;price_separator&quot;:&quot;&quot;,&quot;is_default&quot;:true,&quot;price_delimiter&quot;:&quot;&quot;,&quot;show_price_with_delimiter&quot;:true,&quot;show_price_without_cents&quot;:true},&quot;facebook&quot;:{&quot;pixelActive&quot;:false,&quot;currency_code&quot;:&quot;RUB&quot;,&quot;use_variants&quot;:null},&quot;vk&quot;:{&quot;pixel_active&quot;:null,&quot;price_list_id&quot;:null},&quot;new_ya_metrika&quot;:false,&quot;ecommerce_data_container&quot;:&quot;dataLayer&quot;,&quot;common_js_version&quot;:null,&quot;vue_ui_version&quot;:null,&quot;feedback_captcha_enabled&quot;:&quot;1&quot;,&quot;account_id&quot;:1215183,&quot;hide_items_out_of_stock&quot;:false,&quot;forbid_order_over_existing&quot;:false,&quot;minimum_items_price&quot;:null,&quot;enable_comparison&quot;:true,&quot;locale&quot;:&quot;ru&quot;,&quot;client_group&quot;:null,&quot;consent_to_personal_data&quot;:{&quot;active&quot;:false,&quot;obligatory&quot;:true,&quot;description&quot;:&quot;Настоящим подтверждаю, что я ознакомлен и согласен с условиями \u003ca href=&#39;/page/oferta&#39; target=&#39;blank&#39;\u003eоферты и политики конфиденциальности\u003c/a\u003e.&quot;},&quot;recaptcha_key&quot;:&quot;6Lc0T0YUAAAAAAVNiH-_bnSC4E-YHMFTeYOqZyRx&quot;,&quot;checkout_float_order_content_block&quot;:false,&quot;sber_id_app_id&quot;:&quot;5b5a3c11-72e5-4871-8649-4cdbab3ba9a4&quot;,&quot;theme_generation&quot;:4,&quot;quick_checkout_captcha_enabled&quot;:false,&quot;max_order_lines_count&quot;:500}" name="shop-config" content=""><meta name="js-evnvironment" content="production"><meta name="default-locale" content="ru"><meta name="insales-redefined-api-methods" content="[]">
        <!--InsalesCounter -->
        <script type="text/javascript" async="" src="{% static 'js/insales_counter.js' %}"></script>
        <!-- /InsalesCounter -->

    <!-- meta -->
<title>Cart cart
</title>


<meta name="description" content="boutiquebroderie">
<meta data-config="{&quot;static-versioned&quot;: &quot;1.38&quot;}" name="theme-meta-data" content="">
<meta name="robots" content="index,follow">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">


<!-- rss feed-->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://boutiquebroderie.com">
    <meta property="og:title" content="boutiquebroderie">

    
    
    


<style type="text/css">
    .icon-cart:before {
    content: "\E80D";
}
</style>


<!-- icons-->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/icons.css">
<link rel="icon" type="image/png" sizes="16x16" href="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/32275806.ico"><style media="screen">
  @supports (content-visibility: hidden) {
    body:not(.settings_loaded) {
      content-visibility: hidden;
    }
  }
  @supports not (content-visibility: hidden) {
    body:not(.settings_loaded) {
      visibility: hidden;
    }
  }
   @media screen and (max-width: 767px){
    .cart__area-items{
       overflow-y: auto;
    max-height: 500px;

    }
  }
 
</style>

  </head>
   {% with rate=request|Get_pay_rate %}
  <body data-multi-lang="false" data-theme-template="index" data-sidebar-type="sticky" data-sidebar-position="left" class="settings_loaded">
    <div class="preloader">
      <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>
    </div>
    <noscript>
<div class="njs-alert-overlay">
  <div class="njs-alert-wrapper">
    <div class="njs-alert">
      <p></p>
    </div>
  </div>
</div>

</noscript>

    <div class="page_layout page_layout_sticky_left ">
      <header>
      
        <div class="layout widget-type_system_widget_v4_header_1" style="--logo-img:&#39;https://static.insales-cdn.com/files/1/7649/24960481/original/Frame.png&#39;; --logo-max-width:160px; --hide-menu-photo:false; --hide-search:false; --hide-language:false; --hide-compare:true; --hide-personal:false; --hide-favorite:false; --hide-total-price:false; --bage-bg:#7188D4; --bage-bg-is-dark:true; --bage-bg-minor-shade:#8095d9; --bage-bg-minor-shade-is-dark:true; --bage-bg-major-shade:#8ea0dd; --bage-bg-major-shade-is-dark:true; --bage-bg-half-shade:#b8c4ea; --bage-bg-half-shade-is-light:true; --bg-top-panel:#E5EBFF; --bg-top-panel-is-light:true; --bg-top-panel-minor-shade:#e5ebff; --bg-top-panel-minor-shade-is-light:true; --bg-top-panel-major-shade:#e4eaff; --bg-top-panel-major-shade-is-light:true; --bg-top-panel-half-shade:#d9e2ff; --bg-top-panel-half-shade-is-light:true; --menu-grid-list-min-width:220px; --menu-grid-list-row-gap:3rem; --menu-grid-list-column-gap:3rem; --subcollections-items-limit:10; --menu-img-ratio:1; --live-search:true; --header-wide-bg:true; --header-top-pt:0.5vw; --header-top-pb:0.5vw; --header-main-pt:1vw; --header-main-pb:2vw; --header-wide-content:false; --hide-desktop:false; --hide-mobile:false;">


      
      </header>

      




<!--main-->
 <main>
        
  <div class="layout widget-type_widget_v4_back_to_catalog_32f538a0a042f577b5301462c18b395a" style="--layout-wide-bg:true; --layout-pt:1vw; --layout-pb:1vw; --layout-wide-content:false; --layout-edge:false; --hide-desktop:false; --hide-mobile:false;">
  <div class="layout__content">
    

<div class="button back_to_catalog delete_cart_all_product"><span class="icon icon-trash"></span><span>Ջնջել Զամբյուղը</span></div>


  </div>
</div>


  <div class="layout widget-type_system_widget_v4_cart_2" style="--border-radius:8px; --img-fit:contain; --img-ratio:1; --layout-wide-bg:true; --layout-pt:1vw; --layout-pb:1vw; --layout-wide-content:false; --layout-edge:false; --hide-desktop:false; --hide-mobile:false;">
  <div class="layout__content">
    
<h1 class="heading">Զամբյուղ</h1>


<div action="" class="cart with-coupon" method="post" data-cart-form="" data-reload-on-coupon="false" data-cart-form-inited="true">
  <div class="cart__area-items">
    
   
    {% for product in cart %}
     <div class="cart-item " id="cart-item{{product.pk}}" data-product-id="336490978" data-item-id="573211243">
      <div class="item-image">
        <div class="img-ratio img-ratio_cover img-ratio_cart">
          <div class="img-ratio__inner">
            {% if product.product.avatar_p is not None %}
             <img title="Инструменты" alt="Инструменты" src="{{product.product.avatar_p.url}}" class="item-image">
            {% else %}
             <img title="Инструменты" alt="Инструменты" src="{% static 'images/GRBD_SET_TIFFANY_big.jpg' %}" class="item-image">
            {% endif %}
           
            
          </div>
        </div>
      </div>
      <a href="#" class="item-title">
      {{product.product.name_ru}}
      
      </a>
      <div class="item-price">
        {% if product.sale > 0 %}
        {{product.product.sale_price|div:rate.0|floatformat:2}}
        {% else %}
        {{product.product.price|div:rate.0|floatformat:2}}
        {% endif %}
      </div>
      <div class="item-counter ">
        <div class="counter" data-quantity="" data-quantity-change-init="true">
          {% if product.indicator == "size" %}
           <button type="button" data-quantity-change="-1" class="counter-button button button_size-s is-count-down_size " {% if product.product.sale_price_size %}  price="{{ product.product.sale_price_size|div:rate.0|floatformat:2 }}"{% else %}  price="{{product.product.price_size|div:rate.0|floatformat:2}}"{% endif %} min_size="{{ product.product.min_size }}" key = "{{forloop.counter0}}"><span class="icon icon-minus"></span></button>
          <input type="text" key = "{{forloop.counter0}}" cpk="{{product.pk}}"  pk="{{product.product.pk}}" value="{{ product.count_size }} սմ" name="cart[quantity][573211243]" class="counter-input input_sizes form-control  form-control_size-s" id="counter-input{{ forloop.counter0 }}" last_size= "{{product.count_size}}" {% if product.product.sale_price_size %}  price="{{ product.product.sale_price_size|div:rate.0|floatformat:2 }}"{% else %} price="{{product.product.price_size|div:rate.0|floatformat:2}}"{% endif %} min_size="{{ product.product.min_size }}" max="{{ product.product.max_size }}" status="lock" style="width: 5.5rem;">
          <button type="button" data-quantity-change="1" class="counter-button button button_size-s is-count-up_size " min_size="{{ product.product.min_size }}" {% if product.product.sale_price_size %} price="{{ product.product.sale_price_size|div:rate.0|floatformat:2 }}"{% else %} price="{{product.product.price_size|div:rate.0|floatformat:2}}"{% endif %} key = "{{forloop.counter0}}" pk="{{ product.product.pk }}" ><span class="icon icon-plus"></span></button>
         {% elif  product.indicator == "counter" %}
           <button type="button" data-quantity-change="-1" class="counter-button button button_size-s is-count-down " {% with firstname=product.count|checkcounters:product.product.pk %}
    {% if firstname is not None %}
   
      price="{{firstname|div:rate.0|floatformat:2}}"

      

             
    {% else %}
    
     price="{{product.product.price|div:rate.0|floatformat:2}}"

      
             
    {% endif %}
  {% endwith %}  key = "{{forloop.counter0}}"><span class="icon icon-minus"></span></button>
          <input type="text" key = "{{forloop.counter0}}" cpk="{{product.pk}}"  pk="{{product.product.pk}}" value="{{ product.count }}" name="cart[quantity][573211243]" last_count="{{ product.count }}" class="counter-input input_counters form-control form-control_size-s" style="width: 5.5rem;" id="counter-input{{ forloop.counter0 }}"  {% with firstname=product.count|checkcounters:product.product.pk %}
    {% if firstname is not None %}
   
      price="{{firstname|div:rate.0|floatformat:2}}"

      

             
    {% else %}
    
     price="{{product.product.price|div:rate.0|floatformat:2}}"

      
             
    {% endif %}
  {% endwith %} max="{{ product.product.pcs }}" status="lock">
          <button type="button" data-quantity-change="1" class="counter-button button button_size-s is-count-up " {% with firstname=product.count|checkcounters:product.product.pk %}
    {% if firstname is not None %}
   
      price="{{firstname|div:rate.0|floatformat:2}}"

      

             
    {% else %}
    
     price="{{product.product.price|div:rate.0|floatformat:2}}"

      
             
    {% endif %}
  {% endwith %} key = "{{forloop.counter0}}" pk="{{ product.product.pk }}" ><span class="icon icon-plus"></span></button>
          {% elif  product.indicator == "size_pcs" %}
          <button type="button" data-quantity-change="-1" class="counter-button button button_size-s is-count-down " {% if product.product.sale_price_pcs %}
          price="{{product.product.sale_price_pcs|div:rate.0|floatformat:2}}"
          {% else %}
          price="{{ product.product.price_pcs|div:rate.0|floatformat:2 }}"
          {% endif %}  key = "{{forloop.counter0}}"><span class="icon icon-minus"></span></button>
          <input type="text" key = "{{forloop.counter0}}" cpk="{{product.pk}}"  pk="{{product.product.pk}}" value="{{ product.count }}" name="cart[quantity][573211243]" class="counter-input input_counters form-control form-control_size-s" last_count="{{ product.count }}"  id="counter-input{{ forloop.counter0 }}"  {% if product.product.sale_price_pcs %}
          price="{{product.product.sale_price_pcs|div:rate.0|floatformat:2}}"
          {% else %}
          price="{{ product.product.price_pcs|div:rate.0|floatformat:2 }}"
          {% endif %} max="{{ product.product.pcs}}" status="lock" style="width: 5.5rem;">
          <button type="button" data-quantity-change="1" class="counter-button button button_size-s is-count-up "  {% if product.product.sale_price_pcs %}
          price="{{product.product.sale_price_pcs|div:rate.0|floatformat:2}}"
          {% else %}
          price="{{ product.product.price_pcs|div:rate.0|floatformat:2 }}"
          {% endif %} key = "{{forloop.counter0}}" pk="{{ product.product.pk }}" ><span class="icon icon-plus"></span></button>



          {% elif  product.indicator == "count" %}
          <button type="button" data-quantity-change="-1" class="counter-button button button_size-s is-count-down " {% if product.product.sale_price %}
          price="{{product.product.sale_price|div:rate.0|floatformat:2}}"
          {% else %}
          price="{{ product.product.price|div:rate.0|floatformat:2 }}"
          {% endif %}  key = "{{forloop.counter0}}"><span class="icon icon-minus"></span></button>
          <input type="text" key = "{{forloop.counter0}}" cpk="{{product.pk}}"  pk="{{product.product.pk}}" value="{{ product.count }}" name="cart[quantity][573211243]" last_count="{{ product.count }}"  class="counter-input input_counters form-control form-control_size-s" id="counter-input{{ forloop.counter0 }}"  {% if product.product.sale_price %}
          price="{{product.product.sale_price|div:rate.0|floatformat:2}}"
          {% else %}
          price="{{ product.product.price|div:rate.0|floatformat:2 }}"
          {% endif %} max="{{ product.product.pcs }}" status="lock" style="width: 5.5rem;">
          <button type="button" data-quantity-change="1" class="counter-button button button_size-s is-count-up "  {% if product.product.sale_price %}
          price="{{product.product.sale_price|div:rate.0|floatformat:2}}"
          {% else %}
          price="{{ product.product.price|div:rate.0|floatformat:2 }}"
          {% endif %} key = "{{forloop.counter0}}" pk="{{ product.product.pk }}" ><span class="icon icon-plus"></span></button>
          {% else %}
{% endif %}
        </div>
      </div>
    {% if product.indicator == "size" %}
{% if product.product.sale_price_size %}
<div class="item-total" data-cart-item-total-price="">
        

      
        
              




{{ product.product.sale_price_size|div:rate.0|floatformat:2 }}




      &nbsp; {% if rate.1 == 'ARM' %}֏{% elif rate.1 == "ENG" %}${% elif rate.1 == "EUR" %}€{% else %}₽{% endif %} за {{ product.product.min_size }} սմ</div>
{% else %}
<div class="item-total" data-cart-item-total-price="">
        

      
        
              




{{ product.product.price_size|div:rate.0|floatformat:2 }}




      &nbsp; {% if rate.1 == 'ARM' %}֏{% elif rate.1 == "ENG" %}${% elif rate.1 == "EUR" %}€{% else %}₽{% endif %} за {{ product.product.min_size }} սմ</div>
{% endif %}

{% elif  product.indicator == "counter" %}

{% with firstname=product.count|checkcounters:product.product.pk %}
    {% if firstname is not None %}
    <div class="item-total" data-cart-item-total-price="">
      {{firstname|div:rate.0|floatformat:2}}&nbsp; {% if rate.1 == 'ARM' %}֏{% elif rate.1 == "ENG" %}${% elif rate.1 == "EUR" %}€{% else %}₽{% endif %}
</div>
      

             
    {% else %}
    <div class="item-total" data-cart-item-total-price="">
     {{product.product.price|div:rate.0|floatformat:2}}&nbsp; {% if rate.1 == 'ARM' %}֏{% elif rate.1 == "ENG" %}${% elif rate.1 == "EUR" %}€{% else %}₽{% endif %}
</div>
      
             
    {% endif %}
  {% endwith %}
{% elif  product.indicator == "size_pcs" %}
{% if product.product.sale_price_pcs %}
<div class="item-total" data-cart-item-total-price="">
     {{product.product.sale_price_pcs|div:rate.0|floatformat:2}}&nbsp; {% if rate.1 == 'ARM' %}֏{% elif rate.1 == "ENG" %}${% elif rate.1 == "EUR" %}€{% else %}₽{% endif %}
</div>
{% else %}
<div class="item-total" data-cart-item-total-price="">
     {{product.product.price_pcs|div:rate.0|floatformat:2}}&nbsp; {% if rate.1 == 'ARM' %}֏{% elif rate.1 == "ENG" %}${% elif rate.1 == "EUR" %}€{% else %}₽{% endif %}
</div>
{% endif %}


{% elif  product.indicator == "count" %}
{% if product.product.sale_price %}
<div class="item-total" data-cart-item-total-price="">
     {{product.product.sale_price|div:rate.0|floatformat:2}}&nbsp; {% if rate.1 == 'ARM' %}֏{% elif rate.1 == "ENG" %}${% elif rate.1 == "EUR" %}€{% else %}₽{% endif %}
</div>
{% else %}
<div class="item-total" data-cart-item-total-price="">
     {{product.product.price|div:rate.0|floatformat:2}}&nbsp; {% if rate.1 == 'ARM' %}֏{% elif rate.1 == "ENG" %}${% elif rate.1 == "EUR" %}€{% else %}₽{% endif %}
</div>
{% endif %}


{% else %}
{% endif %}
      <div class="item-delete">
        
          <span class="button favorites_btn favorites-not-added" data-ui-favorites-trigger="336490978">
            <span class="btn-icon icon-favorites"></span>
            <span class="btn-text" data-ui-favorites-trigger-added-text="В избранном" data-ui-favorites-trigger-not-added-text="В избранное">Ֆավորիտ</span>
          </span>
        
        <button class="button js-item-delete" type="submit" data-item_delete="{{ product.pk }}"><span class="icon icon-trash"></span> Ջնջել</button>
      </div>
    </div>

    {% endfor %}
   
    
  </div>
  <div class="cart__area-controls">
    <div class="cart__area-controls-sticky">
      <div class="cart__area-count">
        <div class="sidebar_header">Զամբյուղում</div>
        <div class="sidebar-size-items">
          <span>Ապրանքներ: </span>
          <span data-cart-positions-count="">{{count}}</span>
        </div>
      </div>
      <div class="cart__area-coupon">
        
       
        <div class="coupon-notice" data-cart-discounts-error="false"></div>
        <div class="coupon-content hidden">
          <input type="text" placeholder="Промокод" class="form-control form-control_size-m form-control_wide" name="cart[coupon]" value="">
          <button type="submit" class="coupon-button button button-link_size-m" data-coupon-submit="">Ակտիվացնել</button>
        </div>
        
        <div class="discount" data-cart-discounts-ajax="false"></div>
        <div class="total">
          <span class="total-amount" data-cart-total-price=""><span>{{sums|div:rate.0|floatformat:2}}</span>&nbsp; {% if rate.1 == 'ARM' %}֏{% elif rate.1 == "ENG" %}${% elif rate.1 == "EUR" %}€{% else %}₽{% endif %}</span>
        </div>
      </div>
      <div class="cart-controls">
       
          {% if sums|div:rate.0|floatformat:2|mul:100 >= max_per|div:rate.0|floatformat:2|mul:100 %}
        

        <button type="submit" class="button button_size-l button_wide make_order_class" data-cart-submit="">Հաստատել պատվերը</button>
        {% else %}
        <p  class="button button_size-l button_wide"  style="cursor: default;">Պատվերի մինիմալ գինը՝ {{max_per|div:rate.0|floatformat:2}}  {% if rate.1 == 'ARM' %}֏{% elif rate.1 == "ENG" %}${% elif rate.1 == "EUR" %}€{% else %}₽{% endif %} </p>
        {% endif %}
      
      </div>
    </div>
  </div>
  <input type="hidden" name="_method" value="put">
  <input type="hidden" name="make_order" value="">
  <input type="hidden" name="lang" value="ru">
</div>


<div class="text-center js-cart-empty hidden">
  <div class="empty-title">Ваша корзина пуста</div>
  <div class="empty-info">Акции, специальные предложения и обзоры самых интересных товаров <a href="#">на главной странице</a><br>помогут вам определиться с выбором!</div>
</div>

  </div>
</div>


  <div class="layout widget-type_system_widget_v4_special_products_10" style="--product-desc-limit:10; --hide-description:true; --count-special-products:6; --slide-width:200px; --slide-gap:30; --img-ratio:1; --img-fit:cover; --switch-img-on-hover:false; --border-radius:8px; --rounding-button:true; --product-info-accent:price; --product-info-align:left; --sticker-font-size:0.7rem; --slide-width-mobile:120px; --slide-gap-mobile:15; --hide-mobile-modal-variants:false; --layout-wide-bg:false; --layout-pt:3vw; --layout-pb:3vw; --layout-wide-content:false; --layout-edge:false; --hide-desktop:false; --hide-mobile:false;">
  <div class="layout__content">
    


<div class="special-products js-special-products">
  
  
      
      
      
         
      
      </div>
    </div>
  </div>
</div>








  </div>
</div>



      </main>
<link href="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/cart.css" rel="stylesheet" type="text/css">


      
    
    </div>
    
    <div data-fixed-panels="bottom">
      
   
      
    </div>

   

    

  <script src="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/my-layout.js"></script>
  <link href="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/core-css.css" rel="stylesheet" type="text/css">
  
  <script src="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/jquery.min.js"></script>

  <script src="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/jquery.cut-list.js"></script>
  <link href="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/jquery.cut-list.css" rel="stylesheet" type="text/css">
    <script src="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/microAlert.js"></script>
  <link href="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/microAlert.css" rel="stylesheet" type="text/css">
 <script src="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/bodyScrollLock.min.js"></script>
  <link href="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/main.css" rel="stylesheet" type="text/css">


<script>
  
var  all_price=parseFloat($(".total-amount span").text())
{% if rate.1 == 'ARM' %}

var pay_icon="֏"
{% elif rate.1 == "ENG" %}
var pay_icon="$"
{% elif rate.1 == "EUR" %}
var pay_icon="€"
{% else %}
var pay_icon="₽"
{% endif %}
var max_per = parseInt("{{max_per|div:rate.0|floatformat:2}}")
var bitton_check = `<button type="submit" class="button button_size-l button_wide make_order_class" data-cart-submit="">Հաստատել պատվերը</button>`
function check_max_count(pk,size,callback){
  
  var data = new FormData()
  data.append("pk", pk)
   if (size=="size"){
    data.append("size", 1)

  }
 var call = $.ajax({


              
            url: '/api/check_max_count_product/',
            method: "POST",
            data: data,
            success: function(data){
              callback(data);
              

                
                
                
                
                

            },
            error: function(data){},
            processData: false,
            contentType: false,
        })

  

}

$(".is-count-up_size").on("click", function(){
 var error_str = "Ապրանքի առավելագուն քանակը "
var key = $(this).attr("key")
    var product_count = parseInt($("#counter-input"+String(key)).val()) ;
    var status_div =$("#counter-input"+String(key))
    var status=status_div.attr("status")
   
    if (product_count+10>=parseInt($("#counter-input"+String(key)).attr("max")) && status != "block"){
      var product_price = parseFloat($(this).attr("price"))
      check_max_count($(this).attr("pk"),"size", function(data){
        console.log(data.max_count, "ok")
        $("#counter-input"+String(key)).val(String(data.max_count)+" սմ")
        

   all_price+= product_price

    $(".total-amount").text(String(all_price.toFixed(2))+pay_icon)
    status_div.attr("status", "block")
    error_str = "Ապրանքի առավելագուն չափը՝"+String($("#counter-input"+String(key)).attr("max"))+" սմ"



      })
      
    }
    else if (status=="block"){
      console.log("error")
      error_str+=String($("#counter-input"+String(key)).attr("max")) +" սմ"
       $("#error"+String(key)).text(error_str)
      $("#error"+String(key)).css("display", "block")
    }
    else{
       product_count+=10;
       console.log(product_count, "product_count")
       
       var product_price = parseFloat(10*parseFloat($(this).attr("price"))/parseInt($(this).attr("min_size")))
       
   
      $("#counter-input"+String(key)).val(String(product_count)+" սմ")
     all_price+= product_price

      $(".total-amount").text(String(all_price.toFixed(2))+pay_icon)
       $("#counter-input"+String(key)).attr("last_size", product_count)

    }

    if (all_price.toFixed(2)>=max_per){
      
      $(".cart-controls").html(bitton_check)

    }
    
    
    

})
$(".is-count-up ").on("click", function(){
var key = $(this).attr("key")
    var product_count = parseInt($("#counter-input"+String(key)).val()) ;
    var status_div =$("#counter-input"+String(key))
    var status=status_div.attr("status")
   
    if (product_count+1>=parseInt($("#counter-input"+String(key)).attr("max")) && status != "block"){
      var product_price = parseFloat($(this).attr("price"))
      check_max_count($(this).attr("pk"),1, function(data){
        console.log(data.max_count, "ok")
        $("#counter-input"+String(key)).val(data.max_count)
        

   all_price+= product_price

    $(".total-amount").text(String(all_price.toFixed(2))+pay_icon)
    status_div.attr("status", "block")


      })
      
    }
    else if (status=="block"){
      console.log("error")
      $("#error"+String(key)).css("display", "block")
    }
    else{
       product_count++;
       var product_price = parseFloat($(this).attr("price"))
   
      $("#counter-input"+String(key)).val(product_count)
     all_price+= product_price

      $(".total-amount").text(String(all_price.toFixed(2))+pay_icon)
      $("#counter-input"+String(key)).attr("last_size", product_count)

    }
    if (all_price.toFixed(2)>=max_per){
      
      $(".cart-controls").html(bitton_check)

    }
    
    
    

})

$(".is-count-down_size ").on("click", function(){
  var key = $(this).attr("key")
  $("#counter-input"+String(key)).attr("status", "lock")
   $("#error"+String(key)).css("display", "none")

  var product_count = parseInt($("#counter-input"+String(key)).val()) ;
    if(!(product_count<=parseInt($(this).attr("min_size")))){
        product_count-=10;

    var product_price = parseFloat(10*parseFloat($(this).attr("price"))/parseInt($(this).attr("min_size")))
    
    $("#counter-input"+String(key)).val(String(product_count)+" սմ")
   all_price-= product_price
    $(".total-amount").text(String(all_price.toFixed(2))+pay_icon)
    $("#counter-input"+String(key)).attr("last_size", product_count)
         
        
    }
    if (all_price.toFixed(2)<max_per){
      
      $(".cart-controls").html(`<p class="button button_size-l button_wide" style="cursor: default;">Պատվերի մինիմալ գինը՝ `+ max_per +` `+ pay_icon +` </p>`)

    }
   
   
})
$(".is-count-down ").on("click", function(){
  var key = $(this).attr("key")
  $("#counter-input"+String(key)).attr("status", "lock")
   $("#error"+String(key)).css("display", "none")

  var product_count = parseInt($("#counter-input"+String(key)).val()) ;
    if(!(product_count<=1)){
        product_count--;
    var product_price = parseFloat($(this).attr("price")) 
    
    $("#counter-input"+String(key)).val(product_count)
   all_price-= product_price
  $("#counter-input"+String(key)).attr("last_size", product_count)
    $(".total-amount").text(String(all_price.toFixed(2))+pay_icon)
         
        
    }
    if (all_price.toFixed(2)<max_per){
      
      $(".cart-controls").html(`<p class="button button_size-l button_wide" style="cursor: default;">Պատվերի մինիմալ գինը՝ `+ max_per +` `+ pay_icon +` </p>`)

    }
   
   
})




$(".input_sizes").on("change", function(){
    product_count = parseInt($(this).val())
    var last_size = parseInt($(this).attr("last_size"))

    var status=$(this).attr("status")

    var input = $(this)
   var key = input.attr("key")

    var max_size = parseInt($(this).attr("max"))
    var min_size = parseInt($(this).attr("min_size"))
    var product_price = parseFloat($(this).attr("price"))
     console.log(product_count, "product_count",last_size,max_size)
    
    if (product_count>max_size){
            check_max_count($(this).attr("pk"),"size", function(data){
            console.log(data.max_count, "ok")
            input.val(String(data.max_count)+" սմ")
             $("#error"+String(key)).text("Ապրանքի առավելագուն չափը "+ String(data.max_count)+" սմ")
             input.attr("last_size", data.max_count)

            $("#error"+String(key)).css("display", "block")
            var new_price = (product_price*(data.max_count-last_size)/(min_size))
            all_price+=new_price
    price_total = new_price
     input.val(String(data.max_count)+" սմ")
    input.attr("last_size", data.max_count)
    $(".total-amount").text(String(all_price.toFixed(2))+pay_icon)

       //all_price+= product_price

        //$(".total-amount").text(String(all_price)+" ₽")
        //status_div.attr("status", "block")


          })

    }
    else{
         $("#error"+String(key)).css("display", "none")
         console.log((product_count-last_size), "(product_count-last_size)")
    
    
    //var new_price = (product_price*product_count/(min_size)).toFixed(2);
    new_price = (((product_count-last_size)/(min_size))*product_price)
    console.log(product_count, min_size, last_size, product_price)
    all_price+= new_price
    $(this).val(String(product_count)+" սմ")
    $(this).attr("last_size", product_count)
    $(".total-amount").text(String(all_price.toFixed(2))+pay_icon)
    
       


    var this_count = $("#in_stock option:checked").attr("value")

}

if (all_price.toFixed(2)<max_per){
      
      $(".cart-controls").html(`<p class="button button_size-l button_wide" style="cursor: default;">Պատվերի մինիմալ գինը՝ `+ max_per +` `+ pay_icon +` </p>`)

    }
  else{
     $(".cart-controls").html(bitton_check)

  }





  })

$(".input_counters").on("change", function(){
    var product_count = parseInt($(this).val())
    var last_count = parseInt($(this).attr("last_count"))

    var status=$(this).attr("status")
    var input = $(this)

   
    var key = input.attr("key")
    var max_size = parseInt($(this).attr("max"))
    
    var product_price = parseFloat($(this).attr("price"))
     console.log(product_count, "product_count",last_count,max_size)
    
    if (product_count>max_size){
            check_max_count($(this).attr("pk"), "count", function(data){
            console.log(data.max_count, "ok")
            input.val(String(data.max_count))
             $("#error"+String(key)).text("Ապրանքի առավելագուն քանակը "+ String(data.max_count))
              input.attr("last_count", data.max_count)
           $("#error"+String(key)).css("display", "block")
            var new_price = ((parseInt(data.max_count)-parseInt(last_count))*product_price)
            all_price+=new_price
    price_total = new_price
    
    $(".total-amount").text(String(all_price.toFixed(2))+pay_icon)

       //all_price+= product_price

        //$(".total-amount").text(String(all_price)+" ₽")
        //status_div.attr("status", "block")


          })

    }
    else{
         $("#error"+String(key)).css("display", "none")
         console.log((product_count-last_count), "(product_count-last_size)")
    
    
    //var new_price = (product_price*product_count/(min_size)).toFixed(2);
    new_price = ((product_count-last_count)*product_price)

    all_price+= new_price
    $(this).val(String(product_count))
    $(this).attr("last_count", product_count)
    console.log(new_price, all_price)
    $(".total-amount").text(String(all_price.toFixed(2))+pay_icon)
    
       


    var this_count = $("#in_stock option:checked").attr("value")

}
if (all_price.toFixed(2)<max_per){
      
      $(".cart-controls").html(`<p class="button button_size-l button_wide" style="cursor: default;">Պատվերի մինիմալ գինը՝ `+ max_per +` `+ pay_icon +` </p>`)

    }
  else{
     $(".cart-controls").html(bitton_check)

  }






  })

   $(document).on("click",".make_order_class", function(){
    console.log("order")
    var data = new FormData()
    var url = $(this).attr("url")
    var counter_inputs = $(".counter-input")
    for (var i = 0; i<counter_inputs.length; i++) {
      data.append("cart_pk"+String(i), counter_inputs.eq(i).attr("cpk"))
      data.append("count"+String(i), counter_inputs.eq(i).val())
      console.log(counter_inputs.eq(i).val())
    }
    
     $.ajax({


              
            url: '/api/add_order/',
            method: "POST",
            data: data,
            success: function(data){
                
                window.open("{% url 'accounts:checkout_page' %}");
                
                
                

            },
            error: function(data){},
            processData: false,
            contentType: false,
        })
  })



  $(".delete_cart_all_product").on("click", function(){
    
    var data = new FormData()
    
     $.ajax({


              
            url: '/api/delete_cart_all_product/',
            method: "POST",
            data: data,
            success: function(data){
                
               $(".cart__area-items").html("")
                
                
                

            },
            error: function(data){},
            processData: false,
            contentType: false,
        })
  })
  $(".js-item-delete").on("click", function(){
    
    var data = new FormData()
    var pk= $(this).attr("data-item_delete")
    data.append("pk", pk)
    
     $.ajax({


              
            url: '/api/delete_cart_all_product/',
            method: "POST",
            data: data,
            success: function(data){
                
             var thiscount = $("#cart-item"+String(pk)).find(".counter-input.input_counters.form-control.form-control_size-s").eq(0).val() 
               var thiscount_size = $("#cart-item"+String(pk)).find(".counter-input.input_sizes.form-control.form-control_size-s").eq(0).val() 
              
               if (thiscount != undefined){
                $(".total-amount span").text(parseFloat($(".total-amount span").text()) -parseInt(thiscount)*parseFloat($("#cart-item"+String(pk)).find(".counter-input.input_counters.form-control.form-control_size-s").eq(0).attr("price")).toFixed(2) )

               } 
               else{

                var size_block = $("#cart-item"+String(pk)).find(".counter-input.input_sizes.form-control.form-control_size-s").eq(0)
              
                $(".total-amount span").text(parseFloat($(".total-amount span").text()) - parseInt(thiscount_size.slice(0,-3))*parseFloat(size_block.attr("price"))*size_block.attr("min_size")/100 )

               }
                $("#cart-item"+String(pk)).remove()
                
                
                

            },
            error: function(data){},
            processData: false,
            contentType: false,
        })
  })
  
  try {
  let widget = '.widget-type_system_widget_v4_header_1';
  let $widget = $('.widget-type_system_widget_v4_header_1');
  /* eslint-disable linebreak-style */
$(function() {
  function getWidget(item) {
    return item.closest('.layout');
  }

  var mobilePoint = 768;
  $(document).ready(function() {
   

    if ($(window).width() >= mobilePoint) {
      $(widget).find(".js-cut-list").cutList({
        moreBtnTitle: '<span class="icon-ellipsis-h"></span>',
        alwaysVisibleElem: '.is-current'
      });
    }

    $(window).on('load', function() {
      $(widget).find(".js-cut-list").resize();
    });

    $(window).on('resize', function() {
      let collections_menu = $(widget).find(".header__collections");
      let collections_menu_content = collections_menu.find(".header__collections-content");

      if (collections_menu.is(".is-show")) {
        let max_height = $(window).height() - collections_menu.offset().top - 20;
        collections_menu_content.css("maxHeight", max_height);
      }
    });

    if ($(widget).find(".header__collections .is-current").length) {
      $(widget).find(".header__collections .is-current").addClass("is-show-mobile");
      $(widget).find(".header__collections > .header__collections-item.is-current").addClass("is-show");
    }

    $(widget).find(".js-show-header-collections").on("click", function() {
      let thisWidget = getWidget($(this));

      thisWidget.each(function(index, el) {
        let lazyLoadCollectionList = new LazyLoad({
          container: $(el).get(0),
          elements_selector: '.lazyload'
        });

        try {
          lazyLoadCollectionList.loadAll()
        } catch (e) {
          console.log(e)
        }
      });

      let collections_menu = thisWidget.find(".header__collections");
      let collections_menu_content = collections_menu.find(".header__collections-content");

      if (collections_menu.is(".is-show")) {
        collections_menu.removeClass("is-show");
      } else {
        collections_menu.addClass("is-show");

        let max_height = $(window).height() - collections_menu.offset().top - 20;
        collections_menu_content.css("maxHeight", max_height);
      }

      $(this).toggleClass("is-active");
      thisWidget.find(".header__collections-overlay").toggleClass("is-show");
    });

    $(document).on("click", function(event) {
      let thisWidget = getWidget($(event.target).closest('.layout'));

      if ($(event.target).closest(".js-show-header-collections").length || $(event.target).closest(".header__collections-content").length) {
        return;
      }

      thisWidget.find(".header__collections.is-show").removeClass("is-show");
      thisWidget.find(".header__collections-overlay.is-show").removeClass("is-show");
      thisWidget.find(".js-show-header-collections").removeClass("is-active");
    });

    $(widget).find(".js-show-mobile-submenu").on("click", function() {
      $(this).parents(".header__collections-item:first").toggleClass("is-show-mobile");
    });

    $(widget).find(".js-show-mobile-menu").on("click", function() {
      let thisWidget = getWidget($(event.target).closest('.layout'));

      thisWidget.find(".header").addClass("is-show-mobile");
    });

    $(widget).find(".js-hide-mobile-menu").on("click", function() {
      let thisWidget = getWidget($(event.target).closest('.layout'));

      thisWidget.find(".header").removeClass("is-show-mobile");
    });

    $(widget).find(".js-show-mobile-search").on("click", function() {
      $(this).parents(".header__search").toggleClass("is-show-mobile").find(".header__search-field").focus();
    });

    $(widget).find(".js-show-more-subcollections").on("click", function() {
      let thisWidget = getWidget($(this));

      let collections_menu = thisWidget.find(".header__collections-menu");
      let limit = collections_menu.attr("data-subcollections-items-limit");
      let collection_elem = $(this).parents(".header__collections-item.is-level-1");

      if ($(this).is(".is-active")) {
        $(this).removeClass("is-active");
        collection_elem.find('.header__collections-submenu .header__collections-item:nth-child(n+' + (parseInt(limit) + 1) + ')').addClass("is-hide");
      } else {
        $(this).addClass("is-active");
        collection_elem.find(".header__collections-submenu .header__collections-item").removeClass("is-hide");
      }
    });
  });

 

  function configureSubcollectionsItemsLimit(limit) {
    let collections_menu = $(widget).find(".header__collections-menu");
    collections_menu.attr("data-subcollections-items-limit", limit);

    $(widget).find(".header__collections-submenu").each(function() {
      let collection_elem = $(this).parents(".header__collections-item.is-level-1");
      let collection_elem_more_controls = collection_elem.find(".header__collections-show-more");

      $(this).find(".header__collections-item").removeClass("is-hide");
      $(this).find('.header__collections-item:nth-child(n+' + (parseInt(limit) + 1) + ')').addClass("is-hide");
      collection_elem_more_controls.find(".js-show-more-subcollections").removeClass("is-active");

      if ($(this).find(".header__collections-item").length > parseInt(limit)) {
        collection_elem_more_controls.addClass("is-show");
      } else {
        collection_elem_more_controls.removeClass("is-show");
      }
    });
  }
});

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_header_1" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_alerts';
  let $widget = $('.widget-type_system_widget_v4_alerts');
  let alertsSettings = $widget.find('[data-micro-alerts-settings]').data('micro-alerts-settings');

function replaceAlertCheckIcon(message) {
  let iconCheck = '<span class="icon-check" style="margin-right:5px;"></span>';
  if (message.indexOf('✓') != -1 ) {
    return message.replace(/✓/gi, iconCheck);
  } else {
    return `${iconCheck} ${message}`;
  }
}

function replaceAlertWarningIcon(message) {
  let iconWarning = '<span class="icon-exclamation-triangle" style="margin-right:5px;"></span>';
  if (message.indexOf('⚠') != -1 ) {
    return message.replace(/⚠/gi, iconWarning);
  } else {
    return `${iconWarning} ${message}`;
  }
}



if (window.location.pathname == '/' && Cookies.get('lite_preorder')) {
  let success_feedback = alertsSettings['success_preorder'];

  microAlert(replaceAlertCheckIcon(success_feedback), 5000, {
    modificator: 'success-notice'
  });
  Cookies.remove('lite_preorder');
}

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_alerts" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_callback_modal_1';
  let $widget = $('.widget-type_system_widget_v4_callback_modal_1');
  $(document).ready(function() {
  $(widget).find(".js-hide-modal").on("click", function() {
    $(widget).removeClass("is-show-fullscreen");
  });

  $(widget).on("click", function(event) {
    if ($(event.target).closest(widget + ' .layout__content').length) {
      return;
    }

    $(widget).removeClass("is-show-fullscreen");
  });
});




$(window).on("scroll", function() {
  clearTimeout(scroll_timeout);
  scroll_timeout = setTimeout( function() {
    showButtonOnTop($widget.find(".js-go-top-page"));
  }, 50);
});

function showButtonOnTop(btn) {
  if ($(window).scrollTop() >= $(window).height()) {
    btn.addClass("is-show");
  } else {
    btn.removeClass("is-show");
  }
}



let scroll_timeout;

$(window).on("scroll", function() {
  clearTimeout(scroll_timeout);
  scroll_timeout = setTimeout( function() {
    showCartFixedBtn($widget.find(".js-cart-fixed-btn"));
  }, 50);
});

function showCartFixedBtn(btn) {
  if ($(window).scrollTop() >= 100) {
    btn.addClass("is-show");
  } else {
    btn.removeClass("is-show");
  }
}

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_cart_fixed_button_1" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_bottom_navigation_bar_1';
  let $widget = $('.widget-type_system_widget_v4_bottom_navigation_bar_1');
  $(function() {
  let location_path = window.location.pathname;

  if (location_path.indexOf('client_account') !== -1) {
    $widget.find(".navigation-bar__item-profile").addClass("is-active is-cur-page");
  }

  $widget.find("[data-show-navigation-bar-panel]").on("click", function() {
    let navigation_bar_item = $(this);
    let panel_name = navigation_bar_item.data("showNavigationBarPanel");
    let panel = $widget.find('[data-navigation-bar-panel="' + panel_name + '"]');

    if (panel.is(".is-show")) {
      bodyScrollLock.clearAllBodyScrollLocks();
      panel.removeClass("is-show");
      $('header').css('display', 'block');

      navigation_bar_item.removeClass("is-active");
      $widget.find(".navigation-bar__item.is-cur-page").addClass("is-active");
    } else {
      let targetElement = panel.get(0);
      if (targetElement) {
        bodyScrollLock.disableBodyScroll(targetElement);
      }

      $('header').css('display', 'none');

      let panel_bottom_pos = navigation_bar_item.parents(".layout").innerHeight();
      $widget.find('[data-navigation-bar-panel].is-show').removeClass("is-show");
      panel.css("bottom", panel_bottom_pos).addClass("is-show");

      if (panel_name == "search") {
        setTimeout(function() {
          panel.find("[data-search-field]").focus();
        }, 500);
      }

      $widget.find(".navigation-bar__item.is-active").removeClass("is-active");
      navigation_bar_item.addClass("is-active");
    }
  });

  $widget.find(".navigation-bar__item-home").on("click", function() {
    if (location_path == "/") {
      $widget.find('.navigation-bar-panel.is-show').removeClass("is-show");
      $widget.find(".navigation-bar__item.is-active").removeClass("is-active");
      $widget.find(".navigation-bar__item.is-cur-page").addClass("is-active");
    }
  });

  $widget.find(".js-hide-navigation-bar-panel").on("click", function() {
    $widget.find('[data-navigation-bar-panel].is-show').removeClass("is-show");
    $widget.find(".navigation-bar__item.is-active").removeClass("is-active");
    $widget.find(".navigation-bar__item.is-cur-page").addClass("is-active");
    bodyScrollLock.clearAllBodyScrollLocks();
    $('header').css('display', 'block');
  });

  $widget.find(".collections__menu .is-current").addClass("is-show");
  $widget.find(".js-show-submenu").on("click", function() {
    let cur_item = $(this).parents(".collections__item:first");
    cur_item.toggleClass("is-show");
  });

  $widget.find(".js-show-collections-search").on("click", function() {
    let search_block = $(this).parents(".collections-search");
    search_block.toggleClass("is-show");

    if (search_block.is(".is-show")) {
      setTimeout(function() {
        search_block.find(".collections-search__field").focus();
      }, 50);
    }
  });
});

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_bottom_navigation_bar_1" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_benefits_4';
  let $widget = $('.widget-type_system_widget_v4_benefits_4');
  $(function() {
  $widget.each(function(index, el) {
    new LazyLoad({
      container: $(el).get(0),
      elements_selector: '.lazyload'
    });

    fixBlocks(el)
  });

  let resizeTimer;
  $(window).on('resize', function(e) {

    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(function() {
      $widget.each(function(index, el) {
        fixBlocks(el)
      });

    }, 550);

  });

 


  function fixBlocks(el) {
    let initialSize = getComputedStyle($(el)[0]).getPropertyValue('--grid-list-min-width').replace('px', '');
    let columnSize = getComputedStyle($(el)[0]).getPropertyValue('--grid-list-column-gap').replace('rem', '');
    let $benefitList = $(el).find('.grid-list');
    let containerSize = $benefitList.width()
    let blocksLength = $benefitList.data('block-length')

    $benefitList.css('--grid-list-min-width', adaptiveSize(containerSize, +initialSize, blocksLength, columnSize * 16) + 'px')
  }

  function adaptiveSize(containerSize, blockSize, blocksLength, columnSize) {
    let currentLine = Math.floor(containerSize / (blockSize + columnSize));
    let delta = blocksLength % currentLine;
    let addBlocks = 0;

    if (delta > 0) {
      addBlocks = currentLine - delta;
    }

    return addBlocks == 0 || currentLine > blocksLength ? containerSize / currentLine - columnSize : blockSize * (currentLine / addBlocks);
  }
});

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_benefits_4" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_collections_on_index_2';
  let $widget = $('.widget-type_system_widget_v4_collections_on_index_2');
  /* eslint-disable linebreak-style */
$(function() {
  var isTouch = !!('ontouchstart' in window || navigator.msMaxTouchPoints);
  var mobile_point = 767;

  if (isTouch) {
    $(widget).find(".collection-preview").addClass("is-touch");
  }

  $widget.each(function(index, el) {
    new LazyLoad({
      container: $(el).get(0),
      elements_selector: '.lazyload',
      use_native: 'loading' in document.createElement('img')
    });
  });

  $(function() {
    let specialCollections = $widget.find(".js-collections");

    if ($(window).width() < mobile_point) {
      let slider_mobile_right_padding;
      let slide_width_mobile;
      let slide_gap_mobile = specialCollections.find(".js-collections-slider").attr("data-slide-gap-mobile") / 2;

      $(window).on("resize", function() {
        slide_width_mobile = specialCollections.find(".splide__slide").width();
        slider_mobile_right_padding = slide_width_mobile * 0.5 + slide_gap_mobile;
        specialCollections.find(".js-collections-slider").attr("data-mobile-right-padding", slider_mobile_right_padding);
      });
    }

    specialCollections.each(function() {
      let collections_block = $(this);
      let slider_block = collections_block.find(".js-collections-slider");
      let slide_min_width = 160;
      let slide_min_width_mobile = 130;
      let slide_gap = 30;
      let slide_gap_mobile = 15;
      let slider_mobile_right_padding;

      if (slider_block.is("[data-slide-min-width]")) {
        slide_min_width = parseInt(slider_block.attr("data-slide-min-width"));
      } else {
        slider_block.attr("data-slide-min-width", slide_min_width);
      }

      if (slider_block.is("[data-slide-min-width-mobile]")) {
        slide_min_width_mobile = parseInt(slider_block.attr("data-slide-min-width-mobile"));
      } else {
        slider_block.attr("data-slide-min-width-mobile", slide_min_width_mobile);
      }

      if (slider_block.is("[data-slide-gap]")) {
        slide_gap = parseInt(slider_block.attr("data-slide-gap"));
      } else {
        slider_block.attr("data-slide-gap", slide_gap);
      }

      if (slider_block.is("[data-slide-gap-mobile]")) {
        slide_gap_mobile = parseInt(slider_block.attr("data-slide-gap-mobile"));
      } else {
        slider_block.attr("data-slide-gap-mobile", slide_gap_mobile);
      }

      if (slider_block.is("[data-mobile-right-padding]")) {
        slider_mobile_right_padding = parseInt(slider_block.attr("data-mobile-right-padding"));
      } else {
        slider_block.attr("data-mobile-right-padding", slider_mobile_right_padding);
      }

      let init_slide_min_width = isMobileWidth() ? slide_min_width_mobile : slide_min_width;
      let init_slide_gap = isMobileWidth() ? slide_gap_mobile : slide_gap;

      let mobile_left_padding = 5;
      let mobile_right_padding = `${slider_mobile_right_padding + init_slide_gap}px`;

      slider_block[0].splide = new Splide(slider_block[0], {
        perPage: getSlidesPerView(slider_block, init_slide_min_width, init_slide_gap),
        gap: init_slide_gap,
        perMove: 1,
        breakpoints: {
          768: {
            padding: {
              left: mobile_left_padding,
              right: mobile_right_padding
            }
          }
        }
      });

      let tempWindowWidth = $(window).width()
      $(window).on("resize", function() {
        if (tempWindowWidth == $(window).width()) {
          return false
        }
        tempWindowWidth = $(window).width()
        let slide_min_width = parseInt(slider_block.attr("data-slide-min-width"));
        let slide_min_width_mobile = parseInt(slider_block.attr("data-slide-min-width-mobile"));
        let slide_gap = parseInt(slider_block.attr("data-slide-gap"));
        let slide_gap_mobile = parseInt(slider_block.attr("data-slide-gap-mobile"));
        let slider_mobile_right_padding = parseInt(slider_block.attr("data-mobile-right-padding"));

        let init_slide_min_width = isMobileWidth() ? slide_min_width_mobile : slide_min_width;
        let init_slide_gap = isMobileWidth() ? slide_gap_mobile : slide_gap;

        if (isMobileWidth()) {
          slide_gap_mobile = slide_gap_mobile / 2;

          slider_block[0].splide.options = {
            gap: slide_gap_mobile,
            perPage: getSlidesPerView(slider_block, init_slide_min_width, init_slide_gap),
            padding: {
              left: 0,
              right: slider_mobile_right_padding
            }
          };
        } else {
          slider_block[0].splide.options = {
            gap: init_slide_gap,
            perPage: getSlidesPerView(slider_block, init_slide_min_width, init_slide_gap)
          };
        }

        configureDragOption(slider_block);
      });

      slider_block[0].splide.on('arrows:updated', function() {
        let collections = slider_block.parents(".js-collections");
        let prev_btn = collections.find(".collections__slider-arrow-prev");
        let next_btn = collections.find(".collections__slider-arrow-next");

        if (collections.find(".splide__arrow--prev").prop("disabled") === true) {
          prev_btn.addClass("is-disabled");
        } else {
          prev_btn.removeClass("is-disabled");
        }

        if (collections.find(".splide__arrow--next").prop("disabled") === true) {
          next_btn.addClass("is-disabled");
        } else {
          next_btn.removeClass("is-disabled");
        }
      });

      slider_block[0].splide.on('mounted updated', function() {
        displaySliderControls(slider_block);
      });

      slider_block[0].splide.on('mounted', function() {
        configureDragOption(slider_block);
      });

      slider_block[0].splide.mount();

      $widget.find(".js-move-slide").on("click", function() {
        let slider_node = $(this).parents(".js-collections").find(".js-collections-slider");

        if (slider_node.length) {
          let sliderInst = slider_node[0].splide;

          if ($(this).is(".collections__slider-arrow-prev")) {
            sliderInst.go('-');
          }

          if ($(this).is(".collections__slider-arrow-next")) {
            sliderInst.go('+');
          }
        }
      });
    });
  });

 

  function updateSpecialCollectionSlider(slider, data) {
    let sliderInst = slider[0].splide;

    let slide_min_width = parseInt(slider.attr("data-slide-min-width"));
    let slide_min_width_mobile = parseInt(slider.attr("data-slide-min-width-mobile"));
    let slide_gap = parseInt(slider.attr("data-slide-gap"));
    let slide_gap_mobile = parseInt(slider.attr("data-slide-gap-mobile"));
    let slider_mobile_right_padding = parseInt(slider.attr("data-mobile-right-padding"));

    if (data.setting_name == 'slide-width') {
      let new_slide_min_width = parseInt(data.value);
      slider.attr("data-slide-min-width", new_slide_min_width);

      if (!isMobileWidth()) {
        let new_per_page = getSlidesPerView(slider, new_slide_min_width, slide_gap);
        sliderInst.options = {
          perPage: new_per_page
        };
      }
    } else if (data.setting_name == 'slide-width-mobile') {
      let new_slide_min_width_mobile = parseInt(data.value);
      slider.attr("data-slide-min-width-mobile", new_slide_min_width_mobile);

      if (isMobileWidth()) {
        let new_per_page = getSlidesPerView(slider, new_slide_min_width_mobile, slide_gap_mobile);
        sliderInst.options = {
          perPage: new_per_page
        };
      }
    } else if (data.setting_name == 'slide-gap') {
      let new_slide_gap = parseInt(data.value);
      let new_per_page = getSlidesPerView(slider, slide_min_width, new_slide_gap);
      slider.attr("data-slide-gap", new_slide_gap);

      if (!isMobileWidth()) {
        sliderInst.options = {
          gap: new_slide_gap,
          perPage: new_per_page,
        };
      }
    } else if (data.setting_name == 'slide-gap-mobile') {
      let new_slide_gap_mobile = parseInt(data.value);
      let new_per_page = getSlidesPerView(slider, slide_min_width_mobile, new_slide_gap_mobile);
      slider.attr("data-slide-gap-mobile", new_slide_gap_mobile);

      if (isMobileWidth()) {
        let mobile_left_padding = slider.parents(".layout").css("--layout-side-padding");
        let mobile_right_padding = `${slider_mobile_right_padding + new_slide_gap_mobile}px`;

        sliderInst.options = {
          gap: new_slide_gap_mobile,
          perPage: new_per_page,
          padding: {
            left: mobile_left_padding,
            right: mobile_right_padding
          }
        };
      }
    } else {
      setTimeout(function() {
        let init_slide_min_width = isMobileWidth() ? slide_min_width_mobile : slide_min_width;
        let init_slide_gap = isMobileWidth() ? slide_gap_mobile : slide_gap;

        let new_per_page = getSlidesPerView(slider, init_slide_min_width, init_slide_gap);
        sliderInst.options = {
          perPage: new_per_page
        };
      }, 0);
    }

    configureDragOption(slider);
  }

  function getSlidesPerView(sliderBlock, slideMinWidth, slideGap) {
    let right_padding = 0;

    if (sliderBlock.is("[data-mobile-right-padding]") && isMobileWidth()) {
      right_padding = parseInt(sliderBlock.data("mobileRightPadding")) + slideGap;
    }

    return Math.floor((sliderBlock.width() + slideGap - right_padding) / (slideMinWidth + slideGap));
  }

  function displaySliderControls(slider) {
    let sliderInst = slider[0].splide;
    let collections = slider.parents(".js-collections");
    let slider_arrow = collections.find(".collections__slider-arrow");

    if (sliderInst.length <= sliderInst.options.perPage) {
      slider_arrow.addClass("is-hide");
      slider.addClass("is-hide-paging");
    } else {
      slider_arrow.removeClass("is-hide");
      slider.removeClass("is-hide-paging");
    }
  }

  function configureDragOption(slider) {
    if (slider[0].splide.length <= slider[0].splide.options.perPage) {
      slider[0].splide.options = {
        drag: false
      };
    } else {
      slider[0].splide.options = {
        drag: true
      };
    }
  }

  function isMobileWidth() {
    return $(window).width() <= mobile_point;
  }
});

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_collections_on_index_2" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_video_clip';
  let $widget = $('.widget-type_system_widget_v4_video_clip');
  /* eslint-disable linebreak-style */
$widget.each(function(index, el) {
  new LazyLoad({
    container: $(el).get(0),
    elements_selector: '.lazyload'
  });
});

function getWidget(item) {
  return item.closest('.layout');
}

$(function() {
  let previewImg = $widget.find(".banner-list__item-image .picture");
  let iframeVideo = $widget.find(".banner-list__item-image iframe");

  $widget.find(".banner-preview__play-btn").on("click", function(event) {
    let thisWidget = getWidget($(this));
    let slider_node = thisWidget.find(".picture");
    let slider_btn = thisWidget.find(".banner-preview__play-btn");
    slider_node.addClass("hidden");
    slider_btn.addClass("hidden");
    event.preventDefault();
    if (thisWidget.find(".banner-list__item-image .picture").hasClass("hidden")) {
      thisWidget.find(".banner-list__item-image iframe").show();
    }
  });
  iframeVideo.hide();
  $(previewImg).on('load', function() {
    iframeVideo.show();
  });
});
} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_video_clip" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_banner_list_23';
  let $widget = $('.widget-type_system_widget_v4_banner_list_23');
  $(function() {
  $widget.each(function(index, el) {
    new LazyLoad({
      container: $(el).get(0),
      elements_selector: '.lazyload'
    });
  });
});

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_banner_list_23" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_banner_list_27';
  let $widget = $('.widget-type_system_widget_v4_banner_list_27');
  $(function() {
  var mobile_point = 767;
  var bannerBlockList = $(widget).find(".banner-list");

  $widget.each(function(index, el) {
    new LazyLoad({
      container: $(el).get(0),
      elements_selector: '.lazyload'
    });
  });

  bannerBlockList.each(function() {
    let slider_block = $(this).find(".js-banner-list-slider");
    initBannerListSlider(slider_block);
  });

  function initBannerListSlider(sliderBlock) {
    let slide_min_width = 250;
    let slide_min_width_mobile = 160;
    let slide_gap = 30;

    if (sliderBlock.is("[data-slide-min-width]")) {
      slide_min_width = parseInt(sliderBlock.data("slideMinWidth"));
    } else {
      sliderBlock.data("slideMinWidth", slide_min_width);
    }

    if (sliderBlock.is("[data-slide-min-width-mobile]")) {
      slide_min_width_mobile = parseInt(sliderBlock.data("slideMinWidthMobile"));
    } else {
      sliderBlock.data("slideMinWidthMobile", slide_min_width_mobile);
    }

    if (sliderBlock.is("[data-slide-gap]")) {
      slide_gap = parseInt(sliderBlock.data("slideGap"));
    } else {
      sliderBlock.data("slideGap", slide_gap);
    }

    sliderBlock[0].splide = new Splide(sliderBlock[0], {
      perPage: getSlidesPerView(sliderBlock, isMobileWidth() ? slide_min_width_mobile : slide_min_width, slide_gap),
      gap: slide_gap,
      perMove: 1
    });

    $(window).on("resize", function() {
      let slide_min_width = parseInt(sliderBlock[0].dataset.slideMinWidth);
      let slide_gap = parseInt(sliderBlock[0].dataset.slideGap);
      let slide_min_width_mobile = parseInt(sliderBlock[0].dataset.slideMinWidthMobile);

      sliderBlock[0].splide.options = {perPage: getSlidesPerView(sliderBlock, isMobileWidth() ? slide_min_width_mobile : slide_min_width, slide_gap)};
      configureDragOption(sliderBlock);
    });

    sliderBlock[0].splide.on( 'arrows:updated', function() {
      let banner_list = sliderBlock.parents(".banner-list");
      let prev_btn = banner_list.find(".banner-list__arrow-prev");
      let next_btn = banner_list.find(".banner-list__arrow-next");

      if (banner_list.find(".splide__arrow--prev").prop("disabled") === true) {
        prev_btn.addClass("is-disabled");
      } else {
        prev_btn.removeClass("is-disabled");
      }

      if (banner_list.find(".splide__arrow--next").prop("disabled") === true) {
        next_btn.addClass("is-disabled");
      } else {
        next_btn.removeClass("is-disabled");
      }
    });

    sliderBlock[0].splide.on( 'mounted updated', function() {
      displaySliderControls(sliderBlock);
    });

    sliderBlock[0].splide.on( 'mounted', function() {
      configureDragOption(sliderBlock);
    });

    sliderBlock[0].splide.mount();

    sliderBlock.parents(".banner-list").find(".js-move-slide").on("click", function() {
      let slider_node = $(this).parents(".banner-list").find(".js-banner-list-slider");

      if (slider_node.length) {
        let sliderInst = slider_node[0].splide;

        if ($(this).is(".banner-list__arrow-prev")) {
          sliderInst.go( '-' );
        }

        if ($(this).is(".banner-list__arrow-next")) {
          sliderInst.go( '+' );
        }
      }
    });
  }

  function updateBannerListSlider(slider, data) {
    let sliderInst = slider[0].splide;

    let slide_min_width = parseInt(slider.data("slideMinWidth"));
    let slide_gap = parseInt(slider.data("slideGap"));
    let slide_min_width_mobile = parseInt(slider.data("slideMinWidthMobile"));

    if (data.setting_name == 'slide-width') {
      let new_slide_min_width = parseInt(data.value);
      let new_per_page = getSlidesPerView(slider, new_slide_min_width, slide_gap);
      slider.attr("data-slide-min-width", new_slide_min_width);

      sliderInst.options = { perPage: new_per_page };

      if (!isMobileWidth()) {
        let new_per_page = getSlidesPerView(slider, new_slide_min_width, slide_gap);
        sliderInst.options = { perPage: new_per_page };
      }
    } else if (data.setting_name == 'slide-width-mobile') {
      let new_slide_min_width_mobile = parseInt(data.value);
      slider.attr("data-slide-min-width-mobile", new_slide_min_width_mobile);

      if (isMobileWidth()) {
        let new_per_page = getSlidesPerView(slider, new_slide_min_width_mobile, slide_gap);
        sliderInst.options = { perPage: new_per_page };
      }


    } else if (data.setting_name == 'slide-gap') {
      let new_slide_gap = parseInt(data.value);
      let new_per_page = getSlidesPerView(slider, slide_min_width, new_slide_gap);
      slider.attr("data-slide-gap", new_slide_gap);

      sliderInst.options = { gap: new_slide_gap, perPage: new_per_page };
    } else {
      setTimeout(function() {
        let new_per_page = getSlidesPerView(slider, isMobileWidth() ? slide_min_width_mobile : slide_min_width, slide_gap);
        sliderInst.options = { perPage: new_per_page };
      }, 0);
    }

    configureDragOption(slider);
  }

  function getSlidesPerView(sliderBlock, slideMinWidth, slideGap) {
    return Math.floor((sliderBlock.width() + slideGap) / (slideMinWidth + slideGap));
  }

  

  function displaySliderControls(slider) {
    let sliderInst = slider[0].splide;
    let slider_arrows = slider.parents(".banner-list").find(".banner-list__arrow");

    if (sliderInst.length <= sliderInst.options.perPage) {
      slider_arrows.addClass("is-hide");
      slider.addClass("is-hide-paging");
    } else {
      slider_arrows.removeClass("is-hide");
      slider.removeClass("is-hide-paging");
    }
  }

  function configureDragOption(slider) {
    if (slider[0].splide.length <= slider[0].splide.options.perPage) {
      slider[0].splide.options = { drag: false };
    } else {
      slider[0].splide.options = { drag: true };
    }
  }
  function isMobileWidth() {
    return $(window).width() <= mobile_point;
  }
});

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_banner_list_27" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_footer_19';
  let $widget = $('.widget-type_system_widget_v4_footer_19');
  $(function() {
  $(widget).find(".js-show-mobile-submenu").on("click", function() {
    $(this).parents(".menu-item:first").toggleClass("is-show-mobile");
  });
});

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_footer_19" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_promo_slider_18';
  let $widget = $('.widget-type_system_widget_v4_promo_slider_18');
  $(function() {
  let initPromoSlider = function(slider) {
    let is_autoplay = slider.data("autoplay");
    let autoplay_delay = slider.data("autoplayDelay");

    slider[0].splide = new Splide(slider[0], {
      rewind: true,
      autoplay: !!is_autoplay,
      interval: autoplay_delay ? parseInt(autoplay_delay) * 1000 : 5000
    });

    slider[0].splide.on( 'mounted updated', function() {
      displaySliderControls(slider);
    });

    slider[0].splide.mount();
  }

  let updatePromoSlider = function(slider, data) {
    let sliderInst = slider[0].splide;

    if (data.setting_name == 'autoplay') {
      slider.data("autoplay", data.value);

      sliderInst.destroy();
      initPromoSlider(slider);
    } else if (data.setting_name == 'autoplay-delay') {
      slider.data("autoplayDelay", data.value);

      sliderInst.destroy();
      initPromoSlider(slider);
    } else {
      setTimeout(function() { sliderInst.refresh() }, 0);
    }
  }

  let displaySliderControls = function(slider) {
    let sliderInst = slider[0].splide;

    if (sliderInst.length <= sliderInst.options.perPage) {
      slider.addClass("is-hide-controls");
    } else {
      slider.removeClass("is-hide-controls");
    }
  }

  $(function() {
    $widget.each(function(index, el) {
      new LazyLoad({
        container: $(el).get(0),
        elements_selector: '.lazyload'
      });
    });

    $widget.find(".js-promo-slider").each(function() {
      initPromoSlider($(this));
    });
  });


});

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_promo_slider_18" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_special_products_20';
  let $widget = $('.widget-type_system_widget_v4_special_products_20');
  $(function() {
  var mobile_point = 767;

  $widget.each(function(index, el) {
    new LazyLoad({
      container: $(el).get(0),
      elements_selector: '.lazyload',
      use_native: 'loading' in document.createElement('img')
    });
  });
});

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_special_products_20" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_system_widget_v4_sidebar_social_1';
  let $widget = $('.widget-type_system_widget_v4_sidebar_social_1');
  $(function() {
  $widget.each(function(index, el) {
    new LazyLoad({
      container: $(el).get(0),
      elements_selector: '.lazyload'
    });
  });
});

} catch(error) {
  console.error('Widget "widget-type_system_widget_v4_sidebar_social_1" throwed an error: "' + error.stack + '"')
}
;try {
  let widget = '.widget-type_widget_v4_special_products_tabs_4_a3cabb735dc2d527c18cf4e9fa66a72f';
  let $widget = $('.widget-type_widget_v4_special_products_tabs_4_a3cabb735dc2d527c18cf4e9fa66a72f');
  $(function() {
  $widget.each(function(index, el) {
    new LazyLoad({
      container: $(el).get(0),
      elements_selector: '.lazyload'
    });
  });

  $(function() {
    function isMobileWidth() {
      return $(window).width() <= 767;
    }

    function grid_list_columns_mobile() {
      $('[data-tabs-item]').each(function() {
        let list = $(this).data('tabs-item')
        let data_blocks_size = Math.ceil($(this).parents('.tabs:first').find(`#${list} .grid-list`).attr('data-blocks-size'));

        if (isMobileWidth()) {
          $widget.find('.grid-list').css({
            gridTemplateColumns: `repeat(${data_blocks_size}, minmax(calc(var(--grid-list-min-width) - 30px), 1fr))`
          });
        } else {
          $widget.find('.grid-list').css({
            gridTemplateColumns: 'repeat(auto-fill, minmax(min(var(--grid-list-min-width), 100%), 1fr))'
          });
        }
      });
    }

    grid_list_columns_mobile();
    window.addEventListener('resize', grid_list_columns_mobile);
    window.addEventListener('orientationchange', grid_list_columns_mobile);

    $widget.find("[data-tabs-item]").on("click", function() {
      const tabs = $(this).closest(".tabs");
      const tab_item_id = $(this).data("tabsItem");
      const open_tab = tabs.find('#' + tab_item_id);

      if (open_tab.length) {
        tabs.find(".tabs__item.is-active, .tabs__head-item.is-active").removeClass("is-active");
        tabs.find('#' + tab_item_id).addClass("is-active");
        $(this).addClass("is-active");
      }
    });
  });
});

} catch(error) {
  console.error('Widget "widget-type_widget_v4_special_products_tabs_4_a3cabb735dc2d527c18cf4e9fa66a72f" throwed an error: "' + error.stack + '"')
}

</script>


  











<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/style.css" media="all" onload="this.media=&#39;all&#39;">










<link href="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/theme.css" rel="stylesheet" type="text/css" onload="document.body.classList.add(&#39;settings_loaded&#39;);">


  <script src="https://cdn.jsdelivr.net/gh/davidhhh123/jsall@main/theme.js" charset="utf-8"></script>

  
{% endwith %}
</body></html>